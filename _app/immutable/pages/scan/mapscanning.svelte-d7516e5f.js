import{S as ee,i as te,s as se,e as _,k as $,c as m,a as g,m as I,d as v,g as y,K as d,G as Le,H as Fe,I as He,q as k,o as E,b as p,W as gt,X as nt,T as ot,n as fe,p as de,O as pt,Y as bt,F as je,t as D,h as V,j as ht,V as wt,Z as kt,E as x,v as $t,M as It,l as lt,_ as re,$ as Ne,w as T,x as C,f as ue,y as O,a0 as Ue,B as P}from"../../chunks/index-b38653d6.js";import{B as _t,b as Dt,c as Vt}from"../../chunks/Button-b2e517d1.js";import{P as Et}from"../../chunks/Page-63cca219.js";import{M as yt}from"../../chunks/Modal-578a1abe.js";import{g as zt}from"../../chunks/navigation-0e6511d1.js";import{r as St}from"../../chunks/imageStore-aa14458a.js";import"../../chunks/singletons-d1fb5791.js";import"../../chunks/index-f8726bb3.js";function it(n,e,t){const s=n.slice();return s[6]=e[t],s[8]=t,s}const Tt=n=>({option:n&2}),at=n=>({option:n[6],index:n[8]});function Ct(n){let e=n[6]+"",t;return{c(){t=D(e)},l(s){t=V(s,e)},m(s,o){y(s,t,o)},p(s,o){o&2&&e!==(e=s[6]+"")&&ht(t,e)},d(s){s&&v(t)}}}function ct(n){let e,t,s,o;const l=n[3].default,r=je(l,n,n[2],at),a=r||Ct(n);return{c(){e=_("option"),a&&a.c(),t=$(),this.h()},l(i){e=m(i,"OPTION",{});var c=g(e);a&&a.l(c),t=I(c),c.forEach(v),this.h()},h(){e.__value=s=n[6],e.value=e.__value},m(i,c){y(i,e,c),a&&a.m(e,null),d(e,t),o=!0},p(i,c){r?r.p&&(!o||c&6)&&Le(r,l,i,i[2],o?He(l,i[2],c,Tt):Fe(i[2]),at):a&&a.p&&(!o||c&2)&&a.p(i,o?c:-1),(!o||c&2&&s!==(s=i[6]))&&(e.__value=s,e.value=e.__value)},i(i){o||(k(a,i),o=!0)},o(i){E(a,i),o=!1},d(i){i&&v(e),a&&a.d(i)}}}function Ot(n){let e,t,s,o,l=n[1],r=[];for(let i=0;i<l.length;i+=1)r[i]=ct(it(n,l,i));const a=i=>E(r[i],1,1,()=>{r[i]=null});return{c(){e=_("select");for(let i=0;i<r.length;i+=1)r[i].c();this.h()},l(i){e=m(i,"SELECT",{class:!0});var c=g(e);for(let u=0;u<r.length;u+=1)r[u].l(c);c.forEach(v),this.h()},h(){p(e,"class","svelte-mtu0p6"),n[0]===void 0&&gt(()=>n[5].call(e))},m(i,c){y(i,e,c);for(let u=0;u<r.length;u+=1)r[u].m(e,null);nt(e,n[0]),t=!0,s||(o=[ot(e,"change",n[5]),ot(e,"change",n[4])],s=!0)},p(i,[c]){if(c&6){l=i[1];let u;for(u=0;u<l.length;u+=1){const f=it(i,l,u);r[u]?(r[u].p(f,c),k(r[u],1)):(r[u]=ct(f),r[u].c(),k(r[u],1),r[u].m(e,null))}for(fe(),u=l.length;u<r.length;u+=1)a(u);de()}c&3&&nt(e,i[0])},i(i){if(!t){for(let c=0;c<l.length;c+=1)k(r[c]);t=!0}},o(i){r=r.filter(Boolean);for(let c=0;c<r.length;c+=1)E(r[c]);t=!1},d(i){i&&v(e),pt(r,i),s=!1,bt(o)}}}function Pt(n,e,t){let{$$slots:s={},$$scope:o}=e,{value:l}=e,{options:r}=e;function a(c){wt.call(this,n,c)}function i(){l=kt(this),t(0,l),t(1,r)}return n.$$set=c=>{"value"in c&&t(0,l=c.value),"options"in c&&t(1,r=c.options),"$$scope"in c&&t(2,o=c.$$scope)},[l,r,o,s,a,i]}class Bt extends ee{constructor(e){super(),te(this,e,Pt,Ot,se,{value:0,options:1})}}function Mt(n){let e,t,s,o,l,r,a,i,c,u,f,h,b,S,B,z,M,ve,he,L,U,_e,me,G,ge,pe,F,R,be,we,q,ke,$e,A,Ie,De,H,W,Ve,Ee,K,ye,ze,j,X,Se,Te,Y,Ce,Oe,N,Z,Pe,Be,J,Me;return{c(){e=_("div"),t=_("h2"),s=D("Good example of contour map"),o=$(),l=_("div"),r=$(),a=_("h2"),i=D("Instructions"),c=$(),u=_("div"),f=D("Drawing"),h=$(),b=_("div"),S=_("div"),B=D("Curves should have sufficient margin"),z=$(),M=_("div"),ve=D(`The curves should have sufficient margin between them, overlapping or close lines are hard to
			interpret`),he=$(),L=_("div"),U=_("div"),_e=D("Drawing with dark pen"),me=$(),G=_("div"),ge=D(`To recognise your level curves, we prefer a dark and thick marker. Using a lighter pen will
			likely not work`),pe=$(),F=_("div"),R=_("div"),be=D("Close your curves"),we=$(),q=_("div"),ke=D("To avoid false readings, close your curves, dont leave any open-ended lines"),$e=$(),A=_("div"),Ie=D("Scanning"),De=$(),H=_("div"),W=_("div"),Ve=D("Four corners visible"),Ee=$(),K=_("div"),ye=D("To scan the level curves, we need to have the four corners visible"),ze=$(),j=_("div"),X=_("div"),Se=D("Drawing should not be too far"),Te=$(),Y=_("div"),Ce=D(`Scanning works best from a distance of 0.5 meters from the piece of paper. For best the best
			result try to scan the paper as close to parallel as possible. This is easiest if you put your
			drawing on a table instead of holding it.`),Oe=$(),N=_("div"),Z=_("div"),Pe=D("Proper lighting"),Be=$(),J=_("div"),Me=D(`Level curves are hard to distinguish from background in a low light setting. Try to use natual
			daylight or a propper ceiling light for best results. Be careful of sharp or dark shadows on
			the drawing, as they might get interpreted as part of your drawing.`),this.h()},l(Q){e=m(Q,"DIV",{class:!0});var w=g(e);t=m(w,"H2",{});var Ge=g(t);s=V(Ge,"Good example of contour map"),Ge.forEach(v),o=I(w),l=m(w,"DIV",{class:!0}),g(l).forEach(v),r=I(w),a=m(w,"H2",{});var Re=g(a);i=V(Re,"Instructions"),Re.forEach(v),c=I(w),u=m(w,"DIV",{class:!0});var qe=g(u);f=V(qe,"Drawing"),qe.forEach(v),h=I(w),b=m(w,"DIV",{class:!0});var ne=g(b);S=m(ne,"DIV",{class:!0});var Ae=g(S);B=V(Ae,"Curves should have sufficient margin"),Ae.forEach(v),z=I(ne),M=m(ne,"DIV",{class:!0});var We=g(M);ve=V(We,`The curves should have sufficient margin between them, overlapping or close lines are hard to
			interpret`),We.forEach(v),ne.forEach(v),he=I(w),L=m(w,"DIV",{class:!0});var oe=g(L);U=m(oe,"DIV",{class:!0});var Ke=g(U);_e=V(Ke,"Drawing with dark pen"),Ke.forEach(v),me=I(oe),G=m(oe,"DIV",{class:!0});var Xe=g(G);ge=V(Xe,`To recognise your level curves, we prefer a dark and thick marker. Using a lighter pen will
			likely not work`),Xe.forEach(v),oe.forEach(v),pe=I(w),F=m(w,"DIV",{class:!0});var le=g(F);R=m(le,"DIV",{class:!0});var Ye=g(R);be=V(Ye,"Close your curves"),Ye.forEach(v),we=I(le),q=m(le,"DIV",{class:!0});var Ze=g(q);ke=V(Ze,"To avoid false readings, close your curves, dont leave any open-ended lines"),Ze.forEach(v),le.forEach(v),$e=I(w),A=m(w,"DIV",{class:!0});var Je=g(A);Ie=V(Je,"Scanning"),Je.forEach(v),De=I(w),H=m(w,"DIV",{class:!0});var ie=g(H);W=m(ie,"DIV",{class:!0});var Qe=g(W);Ve=V(Qe,"Four corners visible"),Qe.forEach(v),Ee=I(ie),K=m(ie,"DIV",{class:!0});var xe=g(K);ye=V(xe,"To scan the level curves, we need to have the four corners visible"),xe.forEach(v),ie.forEach(v),ze=I(w),j=m(w,"DIV",{class:!0});var ae=g(j);X=m(ae,"DIV",{class:!0});var et=g(X);Se=V(et,"Drawing should not be too far"),et.forEach(v),Te=I(ae),Y=m(ae,"DIV",{class:!0});var tt=g(Y);Ce=V(tt,`Scanning works best from a distance of 0.5 meters from the piece of paper. For best the best
			result try to scan the paper as close to parallel as possible. This is easiest if you put your
			drawing on a table instead of holding it.`),tt.forEach(v),ae.forEach(v),Oe=I(w),N=m(w,"DIV",{class:!0});var ce=g(N);Z=m(ce,"DIV",{class:!0});var st=g(Z);Pe=V(st,"Proper lighting"),st.forEach(v),Be=I(ce),J=m(ce,"DIV",{class:!0});var rt=g(J);Me=V(rt,`Level curves are hard to distinguish from background in a low light setting. Try to use natual
			daylight or a propper ceiling light for best results. Be careful of sharp or dark shadows on
			the drawing, as they might get interpreted as part of your drawing.`),rt.forEach(v),ce.forEach(v),w.forEach(v),this.h()},h(){p(l,"class","example svelte-nxz67r"),p(u,"class","section svelte-nxz67r"),p(S,"class","title svelte-nxz67r"),p(M,"class","description"),p(b,"class","instruction svelte-nxz67r"),p(U,"class","title svelte-nxz67r"),p(G,"class","description"),p(L,"class","instruction svelte-nxz67r"),p(R,"class","title svelte-nxz67r"),p(q,"class","description"),p(F,"class","instruction svelte-nxz67r"),p(A,"class","section svelte-nxz67r"),p(W,"class","title svelte-nxz67r"),p(K,"class","description"),p(H,"class","instruction svelte-nxz67r"),p(X,"class","title svelte-nxz67r"),p(Y,"class","description"),p(j,"class","instruction svelte-nxz67r"),p(Z,"class","title svelte-nxz67r"),p(J,"class","description"),p(N,"class","instruction svelte-nxz67r"),p(e,"class","instructions svelte-nxz67r")},m(Q,w){y(Q,e,w),d(e,t),d(t,s),d(e,o),d(e,l),d(e,r),d(e,a),d(a,i),d(e,c),d(e,u),d(u,f),d(e,h),d(e,b),d(b,S),d(S,B),d(b,z),d(b,M),d(M,ve),d(e,he),d(e,L),d(L,U),d(U,_e),d(L,me),d(L,G),d(G,ge),d(e,pe),d(e,F),d(F,R),d(R,be),d(F,we),d(F,q),d(q,ke),d(e,$e),d(e,A),d(A,Ie),d(e,De),d(e,H),d(H,W),d(W,Ve),d(H,Ee),d(H,K),d(K,ye),d(e,ze),d(e,j),d(j,X),d(X,Se),d(j,Te),d(j,Y),d(Y,Ce),d(e,Oe),d(e,N),d(N,Z),d(Z,Pe),d(N,Be),d(N,J),d(J,Me)},p:x,i:x,o:x,d(Q){Q&&v(e)}}}class Lt extends ee{constructor(e){super(),te(this,e,null,Mt,se,{})}}const Ft=n=>({loading:n&2,stream:n&1,error:n&4,cameraOptions:n&8}),ut=n=>({loading:n[1],stream:n[0],error:n[2],cameraOptions:n[3]});function Ht(n){let e;const t=n[6].default,s=je(t,n,n[5],ut);return{c(){s&&s.c()},l(o){s&&s.l(o)},m(o,l){s&&s.m(o,l),e=!0},p(o,[l]){s&&s.p&&(!e||l&47)&&Le(s,t,o,o[5],e?He(t,o[5],l,Ft):Fe(o[5]),ut)},i(o){e||(k(s,o),e=!0)},o(o){E(s,o),e=!1},d(o){s&&s.d(o)}}}function jt(n,e,t){let{$$slots:s={},$$scope:o}=e,{deviceId:l=""}=e,r,a=!0,i,c=[];const u=async()=>{t(1,a=!0),r&&r.getTracks().forEach(h=>h.stop());const f=l?{deviceId:{exact:l}}:{facingMode:"environment"};try{t(0,r=await navigator.mediaDevices.getUserMedia({video:f})),t(1,a=!1),t(2,i="")}catch(h){t(2,i=""+h)}};return $t(async()=>{await u();const f=await navigator.mediaDevices.enumerateDevices();t(3,c=f.filter(h=>h.kind=="videoinput"))}),It(()=>{!r||r.getTracks().forEach(f=>f.stop())}),n.$$set=f=>{"deviceId"in f&&t(4,l=f.deviceId),"$$scope"in f&&t(5,o=f.$$scope)},n.$$.update=()=>{n.$$.dirty&16&&l&&u()},[r,a,i,c,l,o,s]}class Nt extends ee{constructor(e){super(),te(this,e,jt,Ht,se,{deviceId:4})}}function Ut(n){let e;return{c(){e=_("video"),this.h()},l(t){e=m(t,"VIDEO",{style:!0,preload:!0,type:!0,class:!0}),g(e).forEach(v),this.h()},h(){p(e,"style",n[1]),e.loop=!0,e.playsInline=!0,e.autoplay=!1,e.controls=!1,p(e,"preload","auto"),p(e,"type","video/mp4"),p(e,"class","svelte-wvnab8")},m(t,s){y(t,e,s),n[7](e)},p(t,s){s&2&&p(e,"style",t[1])},i:x,o:x,d(t){t&&v(e),n[7](null)}}}function Gt(n){let e,t,s,o,l,r=n[3]&&n[3].includes("Permission denied"),a,i,c=r&&ft();const u=n[6].default,f=je(u,n,n[5],null);return{c(){e=_("div"),t=_("div"),s=_("h1"),o=D("Loading video..."),l=$(),c&&c.c(),a=$(),f&&f.c(),this.h()},l(h){e=m(h,"DIV",{class:!0});var b=g(e);t=m(b,"DIV",{class:!0});var S=g(t);s=m(S,"H1",{class:!0});var B=g(s);o=V(B,"Loading video..."),B.forEach(v),l=I(S),c&&c.l(S),S.forEach(v),b.forEach(v),a=I(h),f&&f.l(h),this.h()},h(){p(s,"class","svelte-wvnab8"),p(t,"class","svelte-wvnab8"),p(e,"class","loadingVideo svelte-wvnab8")},m(h,b){y(h,e,b),d(e,t),d(t,s),d(s,o),d(t,l),c&&c.m(t,null),y(h,a,b),f&&f.m(h,b),i=!0},p(h,b){b&8&&(r=h[3]&&h[3].includes("Permission denied")),r?c||(c=ft(),c.c(),c.m(t,null)):c&&(c.d(1),c=null),f&&f.p&&(!i||b&32)&&Le(f,u,h,h[5],i?He(u,h[5],b,null):Fe(h[5]),null)},i(h){i||(k(f,h),i=!0)},o(h){E(f,h),i=!1},d(h){h&&v(e),c&&c.d(),h&&v(a),f&&f.d(h)}}}function ft(n){let e;return{c(){e=D("The browser is unable to access the camera, try re-enabling the camera and reload")},l(t){e=V(t,"The browser is unable to access the camera, try re-enabling the camera and reload")},m(t,s){y(t,e,s)},d(t){t&&v(e)}}}function Rt(n){let e,t,s,o;const l=[Gt,Ut],r=[];function a(i,c){return i[2]?0:1}return e=a(n),t=r[e]=l[e](n),{c(){t.c(),s=lt()},l(i){t.l(i),s=lt()},m(i,c){r[e].m(i,c),y(i,s,c),o=!0},p(i,[c]){let u=e;e=a(i),e===u?r[e].p(i,c):(fe(),E(r[u],1,1,()=>{r[u]=null}),de(),t=r[e],t?t.p(i,c):(t=r[e]=l[e](i),t.c()),k(t,1),t.m(s.parentNode,s))},i(i){o||(k(t),o=!0)},o(i){E(t),o=!1},d(i){r[e].d(i),i&&v(s)}}}function qt(n,e,t){let{$$slots:s={},$$scope:o}=e,{stream:l}=e,{style:r=""}=e,{loading:a=!0}=e,{error:i=""}=e,{videoSource:c=void 0}=e;function u(f){re[f?"unshift":"push"](()=>{c=f,t(0,c),t(4,l),t(2,a)})}return n.$$set=f=>{"stream"in f&&t(4,l=f.stream),"style"in f&&t(1,r=f.style),"loading"in f&&t(2,a=f.loading),"error"in f&&t(3,i=f.error),"videoSource"in f&&t(0,c=f.videoSource),"$$scope"in f&&t(5,o=f.$$scope)},n.$$.update=()=>{n.$$.dirty&21&&l&&!a&&c&&c.paused&&(t(0,c.srcObject=l,c),c.play())},[c,r,a,i,l,o,s,u]}class mt extends ee{constructor(e){super(),te(this,e,qt,Rt,se,{stream:4,style:1,loading:2,error:3,videoSource:0})}}function At(n){let e,t;return e=new Lt({}),{c(){T(e.$$.fragment)},l(s){C(e.$$.fragment,s)},m(s,o){O(e,s,o),t=!0},i(s){t||(k(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){P(e,s)}}}function Wt(n){let e,t,s,o;function l(a){n[11](a)}let r={error:n[15],loading:n[13],stream:n[14]};return n[1]!==void 0&&(r.videoSource=n[1]),e=new mt({props:r}),re.push(()=>Ne(e,"videoSource",l)),{c(){t=_("div"),T(e.$$.fragment),this.h()},l(a){t=m(a,"DIV",{style:!0});var i=g(t);C(e.$$.fragment,i),this.h()},h(){ue(t,"display","contents"),ue(t,"--corner-radius","1rem")},m(a,i){y(a,t,i),O(e,t,null),o=!0},p(a,i){const c={};i&32768&&(c.error=a[15]),i&8192&&(c.loading=a[13]),i&16384&&(c.stream=a[14]),!s&&i&2&&(s=!0,c.videoSource=a[1],Ue(()=>s=!1)),e.$set(c)},i(a){o||(k(e.$$.fragment,a),o=!0)},o(a){E(e.$$.fragment,a),o=!1},d(a){a&&v(t),P(e,a)}}}function Kt(n){let e,t,s;return t=new mt({props:{loading:n[13],stream:n[14]}}),{c(){e=_("div"),T(t.$$.fragment),this.h()},l(o){e=m(o,"DIV",{slot:!0});var l=g(e);C(t.$$.fragment,l),l.forEach(v),this.h()},h(){p(e,"slot","background")},m(o,l){y(o,e,l),O(t,e,null),s=!0},p(o,l){const r={};l&8192&&(r.loading=o[13]),l&16384&&(r.stream=o[14]),t.$set(r)},i(o){s||(k(t.$$.fragment,o),s=!0)},o(o){E(t.$$.fragment,o),s=!1},d(o){o&&v(e),P(t)}}}function dt(n){let e,t,s;function o(r){n[10](r)}let l={options:n[16],$$slots:{default:[Xt,({option:r,index:a})=>({17:r,18:a}),({option:r,index:a})=>(r?131072:0)|(a?262144:0)]},$$scope:{ctx:n}};return n[2]!==void 0&&(l.value=n[2]),e=new Bt({props:l}),re.push(()=>Ne(e,"value",o)),e.$on("change",n[8]),{c(){T(e.$$.fragment)},l(r){C(e.$$.fragment,r)},m(r,a){O(e,r,a),s=!0},p(r,a){const i={};a&65536&&(i.options=r[16]),a&917504&&(i.$$scope={dirty:a,ctx:r}),!t&&a&4&&(t=!0,i.value=r[2],Ue(()=>t=!1)),e.$set(i)},i(r){s||(k(e.$$.fragment,r),s=!0)},o(r){E(e.$$.fragment,r),s=!1},d(r){P(e,r)}}}function Xt(n){let e=(n[17].label||"Camera "+(n[18]+1))+"",t;return{c(){t=D(e)},l(s){t=V(s,e)},m(s,o){y(s,t,o)},p(s,o){o&393216&&e!==(e=(s[17].label||"Camera "+(s[18]+1))+"")&&ht(t,e)},d(s){s&&v(t)}}}function Yt(n){var o;let e,t,s=!n[0]&&((o=n[16])==null?void 0:o.length)>1&&dt(n);return{c(){e=_("div"),s&&s.c(),this.h()},l(l){e=m(l,"DIV",{slot:!0});var r=g(e);s&&s.l(r),r.forEach(v),this.h()},h(){p(e,"slot","options")},m(l,r){y(l,e,r),s&&s.m(e,null),t=!0},p(l,r){var a;!l[0]&&((a=l[16])==null?void 0:a.length)>1?s?(s.p(l,r),r&65537&&k(s,1)):(s=dt(l),s.c(),k(s,1),s.m(e,null)):s&&(fe(),E(s,1,1,()=>{s=null}),de())},i(l){t||(k(s),t=!0)},o(l){E(s),t=!1},d(l){l&&v(e),s&&s.d()}}}function vt(n){let e,t;return e=new _t({props:{secondary:!0,icon:Vt,$$slots:{default:[Zt]},$$scope:{ctx:n}}}),e.$on("click",n[6]),{c(){T(e.$$.fragment)},l(s){C(e.$$.fragment,s)},m(s,o){O(e,s,o),t=!0},p(s,o){const l={};o&524288&&(l.$$scope={dirty:o,ctx:s}),e.$set(l)},i(s){t||(k(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){P(e,s)}}}function Zt(n){let e;return{c(){e=D("Read scan instructions")},l(t){e=V(t,"Read scan instructions")},m(t,s){y(t,e,s)},d(t){t&&v(e)}}}function Jt(n){let e;return{c(){e=D("Capture photo of map")},l(t){e=V(t,"Capture photo of map")},m(t,s){y(t,e,s)},d(t){t&&v(e)}}}function Qt(n){let e,t,s,o,l=!n[0]&&vt(n);return s=new _t({props:{loading:n[4],icon:Dt,$$slots:{default:[Jt]},$$scope:{ctx:n}}}),s.$on("click",n[7]),{c(){e=_("div"),l&&l.c(),t=$(),T(s.$$.fragment),this.h()},l(r){e=m(r,"DIV",{slot:!0});var a=g(e);l&&l.l(a),t=I(a),C(s.$$.fragment,a),a.forEach(v),this.h()},h(){p(e,"slot","footer")},m(r,a){y(r,e,a),l&&l.m(e,null),d(e,t),O(s,e,null),o=!0},p(r,a){r[0]?l&&(fe(),E(l,1,1,()=>{l=null}),de()):l?(l.p(r,a),a&1&&k(l,1)):(l=vt(r),l.c(),k(l,1),l.m(e,t));const i={};a&16&&(i.loading=r[4]),a&524288&&(i.$$scope={dirty:a,ctx:r}),s.$set(i)},i(r){o||(k(l),k(s.$$.fragment,r),o=!0)},o(r){E(l),E(s.$$.fragment,r),o=!1},d(r){r&&v(e),l&&l.d(),P(s)}}}function xt(n){let e,t;return e=new Et({props:{fullscreen:!n[13],title:"Capture the image",$$slots:{footer:[Qt],options:[Yt],background:[Kt],default:[Wt]},$$scope:{ctx:n}}}),{c(){T(e.$$.fragment)},l(s){C(e.$$.fragment,s)},m(s,o){O(e,s,o),t=!0},p(s,o){const l={};o&8192&&(l.fullscreen=!s[13]),o&647191&&(l.$$scope={dirty:o,ctx:s}),e.$set(l)},i(s){t||(k(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){P(e,s)}}}function es(n){let e,t,s,o,l,r,a;function i(u){n[9](u)}let c={title:"scan instructions",$$slots:{default:[At]},$$scope:{ctx:n}};return n[0]!==void 0&&(c.visible=n[0]),e=new yt({props:c}),re.push(()=>Ne(e,"visible",i)),o=new Nt({props:{deviceId:n[5],$$slots:{default:[xt,({loading:u,stream:f,error:h,cameraOptions:b})=>({13:u,14:f,15:h,16:b}),({loading:u,stream:f,error:h,cameraOptions:b})=>(u?8192:0)|(f?16384:0)|(h?32768:0)|(b?65536:0)]},$$scope:{ctx:n}}}),{c(){T(e.$$.fragment),s=$(),T(o.$$.fragment),l=$(),r=_("canvas"),this.h()},l(u){C(e.$$.fragment,u),s=I(u),C(o.$$.fragment,u),l=I(u),r=m(u,"CANVAS",{id:!0,style:!0}),g(r).forEach(v),this.h()},h(){p(r,"id","captureCanvas"),ue(r,"display","none"),ue(r,"position","absolute")},m(u,f){O(e,u,f),y(u,s,f),O(o,u,f),y(u,l,f),y(u,r,f),n[12](r),a=!0},p(u,[f]){const h={};f&524288&&(h.$$scope={dirty:f,ctx:u}),!t&&f&1&&(t=!0,h.visible=u[0],Ue(()=>t=!1)),e.$set(h);const b={};f&32&&(b.deviceId=u[5]),f&647191&&(b.$$scope={dirty:f,ctx:u}),o.$set(b)},i(u){a||(k(e.$$.fragment,u),k(o.$$.fragment,u),a=!0)},o(u){E(e.$$.fragment,u),E(o.$$.fragment,u),a=!1},d(u){P(e,u),u&&v(s),P(o,u),u&&v(l),u&&v(r),n[12](null)}}}const us=!0;function ts(n,e,t){let s,o,l,r,a=!1,i;const c=()=>t(0,s=!s);async function u(){t(4,a=!0);const z=r.getContext("2d");t(3,r.height=o.videoHeight,r),t(3,r.width=o.videoWidth,r),z&&z.drawImage(o,0,0,r.width,r.height);const M=r.toDataURL("image/png");St.set(M),zt("/scan/maptransform")}function f(){t(5,i=l.deviceId)}function h(z){s=z,t(0,s)}function b(z){l=z,t(2,l)}function S(z){o=z,t(1,o)}function B(z){re[z?"unshift":"push"](()=>{r=z,t(3,r)})}return[s,o,l,r,a,i,c,u,f,h,b,S,B]}class fs extends ee{constructor(e){super(),te(this,e,ts,es,se,{})}}export{fs as default,us as prerender};
