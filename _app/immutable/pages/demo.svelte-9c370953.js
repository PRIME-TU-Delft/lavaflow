import{S as ee,i as te,s as oe,e as b,c as v,a as A,d as f,K as ae,b as Y,g as $,L as le,E as se,w as X,k as y,x as J,m as k,M as _,J as d,y as K,t as G,h as V,j as ne,q as j,o as C,B as z,N as re,l as q,O as ie,p as ce,P as O,v as ue,n as fe}from"../chunks/index-611a0696.js";import{N as H}from"../chunks/NavigationButton-ac014897.js";import{c as Q}from"../chunks/contourLineStore-a78aef70.js";import{g as B,t as _e}from"../chunks/gltfStore-a6ba4269.js";import{h as me,a as pe}from"../chunks/hardCoded-e059130f.js";import"../chunks/Button-03c16f56.js";import"../chunks/index-630b1f58.js";import"../chunks/draggable-84c82f59.js";function U(n,t,o){const s=n.slice();return s[7]=t[o],s}function W(n){let t,o,s,r;return{c(){t=b("script"),this.h()},l(a){t=v(a,"SCRIPT",{src:!0});var e=A(t);e.forEach(f),this.h()},h(){ae(t.src,o="https://aframe.io/releases/1.0.0/aframe.min.js")||Y(t,"src",o)},m(a,e){$(a,t,e),s||(r=le(t,"load",n[5]),s=!0)},p:se,d(a){a&&f(t),s=!1,r()}}}function Z(n){let t,o,s,r,a,e,l,c,R,h,F,g,w,L,P,D,I,M;s=new H({props:{back:!0,to:"/scan/mapscanning",$$slots:{default:[de]},$$scope:{ctx:n}}}),e=new H({props:{to:"/targetplacement",$$slots:{default:[he]},$$scope:{ctx:n}}});let N=n[4],p=[];for(let i=0;i<N.length;i+=1)p[i]=x(U(n,N,i));return{c(){t=b("a-scene"),o=b("div"),X(s.$$.fragment),r=y(),a=b("div"),X(e.$$.fragment),l=y(),c=b("a-box"),R=y(),h=b("a-entity"),F=y(),g=b("a-entity"),w=b("a-entity"),P=y();for(let i=0;i<p.length;i+=1)p[i].c();D=y(),I=b("a-camera"),this.h()},l(i){t=v(i,"A-SCENE",{embedded:!0});var u=A(t);o=v(u,"DIV",{class:!0});var E=A(o);J(s.$$.fragment,E),E.forEach(f),r=k(u),a=v(u,"DIV",{class:!0});var S=A(a);J(e.$$.fragment,S),S.forEach(f),l=k(u),c=v(u,"A-BOX",{position:!0,material:!0,color:!0}),A(c).forEach(f),R=k(u),h=v(u,"A-ENTITY",{light:!0,position:!0}),A(h).forEach(f),F=k(u),g=v(u,"A-ENTITY",{position:!0,scale:!0,rotation:!0});var m=A(g);w=v(m,"A-ENTITY",{"gltf-model":!0}),A(w).forEach(f),P=k(m);for(let T=0;T<p.length;T+=1)p[T].l(m);m.forEach(f),D=k(u),I=v(u,"A-CAMERA",{"look-controls":!0}),A(I).forEach(f),u.forEach(f),this.h()},h(){Y(o,"class","button backButton svelte-ejp9a4"),Y(a,"class","button placeTargets svelte-ejp9a4"),_(c,"position","0 1 0"),_(c,"material","opacity: 0.5;"),_(c,"color","red"),_(h,"light","color: #AFA; intensity: 1.5"),_(h,"position","-1 1 0"),_(w,"gltf-model",L="url("+n[3]+")"),_(g,"position","7 -1 -5"),_(g,"scale","0.005 0.05 0.005"),_(g,"rotation","0 -90 0"),_(I,"look-controls",""),_(t,"embedded","")},m(i,u){$(i,t,u),d(t,o),K(s,o,null),d(t,r),d(t,a),K(e,a,null),d(t,l),d(t,c),d(t,R),d(t,h),d(t,F),d(t,g),d(g,w),d(g,P);for(let E=0;E<p.length;E+=1)p[E].m(g,null);d(t,D),d(t,I),M=!0},p(i,u){const E={};u&1024&&(E.$$scope={dirty:u,ctx:i}),s.$set(E);const S={};if(u&1024&&(S.$$scope={dirty:u,ctx:i}),e.$set(S),(!M||u&8&&L!==(L="url("+i[3]+")"))&&_(w,"gltf-model",L),u&16){N=i[4];let m;for(m=0;m<N.length;m+=1){const T=U(i,N,m);p[m]?p[m].p(T,u):(p[m]=x(T),p[m].c(),p[m].m(g,null))}for(;m<p.length;m+=1)p[m].d(1);p.length=N.length}},i(i){M||(j(s.$$.fragment,i),j(e.$$.fragment,i),M=!0)},o(i){C(s.$$.fragment,i),C(e.$$.fragment,i),M=!1},d(i){i&&f(t),z(s),z(e),re(p,i)}}}function de(n){let t;return{c(){t=G("Rescan image")},l(o){t=V(o,"Rescan image")},m(o,s){$(o,t,s)},d(o){o&&f(t)}}}function he(n){let t;return{c(){t=G("Place targets")},l(o){t=V(o,"Place targets")},m(o,s){$(o,t,s)},d(o){o&&f(t)}}}function x(n){let t=console.log(n[7],B.getAlitituteAndGradient(n[7].x,n[7].y))+"",o,s,r,a;return{c(){o=G(t),s=y(),r=b("a-box"),this.h()},l(e){o=V(e,t),s=k(e),r=v(e,"A-BOX",{depth:!0,width:!0,height:!0,position:!0,color:!0}),A(r).forEach(f),this.h()},h(){_(r,"depth","18"),_(r,"width","18"),_(r,"height","100"),_(r,"position",a=n[7].x+" 75 "+n[7].y),_(r,"color","yellow")},m(e,l){$(e,o,l),$(e,s,l),$(e,r,l)},p(e,l){l&16&&t!==(t=console.log(e[7],B.getAlitituteAndGradient(e[7].x,e[7].y))+"")&&ne(o,t),l&16&&a!==(a=e[7].x+" 75 "+e[7].y)&&_(r,"position",a)},d(e){e&&f(o),e&&f(s),e&&f(r)}}}function ge(n){let t,o,s,r,a=n[0]&&!window.AFRAME&&W(n),e=n[2]&&Z(n);return{c(){a&&a.c(),t=q(),o=y(),e&&e.c(),s=q()},l(l){const c=ie('[data-svelte="svelte-1u01ijb"]',document.head);a&&a.l(c),t=q(),c.forEach(f),o=k(l),e&&e.l(l),s=q()},m(l,c){a&&a.m(document.head,null),d(document.head,t),$(l,o,c),e&&e.m(l,c),$(l,s,c),r=!0},p(l,[c]){l[0]&&!window.AFRAME?a?a.p(l,c):(a=W(l),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null),l[2]?e?(e.p(l,c),c&4&&j(e,1)):(e=Z(l),e.c(),j(e,1),e.m(s.parentNode,s)):e&&(fe(),C(e,1,1,()=>{e=null}),ce())},i(l){r||(j(e),r=!0)},o(l){C(e),r=!1},d(l){a&&a.d(l),f(t),l&&f(o),e&&e.d(l),l&&f(s)}}}function be(n,t,o){let s,r,a,e;O(n,B,h=>o(3,r=h)),O(n,Q,h=>o(6,a=h)),O(n,_e,h=>o(4,e=h));let l,c;ue(async()=>{console.log(e),r||(Q.set({curves:me,hierarchy:pe}),await B.setup(a),B.build(),console.warn("gltf is loaded from hardcoded data",r)),o(0,l=!0)});const R=()=>o(1,c=!0);return n.$$.update=()=>{n.$$.dirty&3&&o(2,s=(c||window.AFRAME)&&l)},[l,c,s,r,e,R]}class Te extends ee{constructor(t){super(),te(this,t,be,ge,oe,{})}}export{Te as default};
