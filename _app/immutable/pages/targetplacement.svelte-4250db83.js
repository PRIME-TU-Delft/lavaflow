import{S as M,i as Y,s as j,w as v,x as k,y as w,E as D,q as g,o as _,B as S,J as C,e as T,t as y,k as R,c as E,a as H,h as I,d,m as A,b as V,g as $,K as P,_ as q,$ as G,a0 as O,v as Q,f as U,n as z,p as J,j as X}from"../chunks/index-b38653d6.js";import{B as F,c as Z,e as x,f as ee}from"../chunks/Button-b2e517d1.js";import{N as te}from"../chunks/NavigationButton-6afabf28.js";import{P as ne}from"../chunks/P5-1d4d4cc5.js";import{t as N,a as re,g as oe,D as se,c as ae}from"../chunks/contourLineStore-18e2fe0d.js";import{P as le}from"../chunks/Page-63cca219.js";import{M as ie}from"../chunks/Modal-578a1abe.js";import"../chunks/preload-helper-60cab3ee.js";import"../chunks/index-f8726bb3.js";function ce(a){let e,t;return e=new ne({props:{sketch:a[0]}}),{c(){v(e.$$.fragment)},l(n){k(e.$$.fragment,n)},m(n,r){w(e,n,r),t=!0},p:D,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function ue(a,e,t){let n,r,l;C(a,N,s=>t(5,n=s)),C(a,re,s=>t(6,r=s)),C(a,oe,s=>t(7,l=s));let{foregroundWidth:u}=e,{foregroundHeight:i}=e,{targetSelected:o}=e,{curves:c}=e;function f(s){s.setup=()=>{s.createCanvas(u,i)},s.draw=()=>{var b,W;s.background(230),s.stroke(30),c.forEach(p=>{s.strokeWeight(4),s.noFill(),s.beginShape();for(let[B,K]of p)s.vertex(B,K);s.endShape(s.CLOSE)});const h=(W=(b=l==null?void 0:l.craters)!=null?b:r)!=null?W:[];for(let p of h)s.strokeWeight(1),s.stroke("#f2682c"),s.fill("#f2682c"),s.ellipse(p[0],p[1],50,50),s.noFill(),s.strokeWeight(.5),s.ellipse(p[0],p[1],150,150);let m=20;for(let p=0;p<n.length;p++){let B=n[p];B.update(s,h,75,n,50,p),B.drawCircle(s,m,p)}},s.mousePressed=()=>{if(!(n!=null&&n.length))return;let h=!1;for(let m=0;m<n.length;m++){let b=!1;n[m].deselect(),h||(b=n[m].pressed(s),h=b),b&&t(1,o=m)}},s.mouseReleased=()=>{if(!!(n!=null&&n.length)){for(let h of n)h.released();N.set(n)}}}return a.$$set=s=>{"foregroundWidth"in s&&t(2,u=s.foregroundWidth),"foregroundHeight"in s&&t(3,i=s.foregroundHeight),"targetSelected"in s&&t(1,o=s.targetSelected),"curves"in s&&t(4,c=s.curves)},[f,o,u,i,c]}class fe extends M{constructor(e){super(),Y(this,e,ue,ce,j,{foregroundWidth:2,foregroundHeight:3,targetSelected:1,curves:4})}}function me(a){let e,t,n,r,l,u;return{c(){e=T("div"),t=T("h2"),n=y("Instructions"),r=R(),l=T("div"),u=y(`Add targets where you think the lava will flow. You can't place targets too close to 
		the craters or too close to other targets. How close you can place targets to craters
		and other targets depends on the difficulty mode you selected. There is also a minimum
		amount of targets you need to place, which also depends on your difficulty mode. You
		can never place more than 10 targets.`),this.h()},l(i){e=E(i,"DIV",{class:!0});var o=H(e);t=E(o,"H2",{});var c=H(t);n=I(c,"Instructions"),c.forEach(d),r=A(o),l=E(o,"DIV",{class:!0});var f=H(l);u=I(f,`Add targets where you think the lava will flow. You can't place targets too close to 
		the craters or too close to other targets. How close you can place targets to craters
		and other targets depends on the difficulty mode you selected. There is also a minimum
		amount of targets you need to place, which also depends on your difficulty mode. You
		can never place more than 10 targets.`),f.forEach(d),o.forEach(d),this.h()},h(){V(l,"class","instruction"),V(e,"class","instructions svelte-tryer5")},m(i,o){$(i,e,o),P(e,t),P(t,n),P(e,r),P(e,l),P(l,u)},p:D,i:D,o:D,d(i){i&&d(e)}}}class de extends M{constructor(e){super(),Y(this,e,null,me,j,{})}}function ge(a){let e,t;return e=new de({}),{c(){v(e.$$.fragment)},l(n){k(e.$$.fragment,n)},m(n,r){w(e,n,r),t=!0},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function _e(a){let e,t,n,r;function l(i){a[9](i)}let u={foregroundHeight:a[10],foregroundWidth:a[11],curves:a[2].curves};return a[0]!==void 0&&(u.targetSelected=a[0]),t=new fe({props:u}),q.push(()=>G(t,"targetSelected",l)),{c(){e=T("div"),v(t.$$.fragment),this.h()},l(i){e=E(i,"DIV",{class:!0});var o=H(e);k(t.$$.fragment,o),o.forEach(d),this.h()},h(){V(e,"class","sketch svelte-r0eupj")},m(i,o){$(i,e,o),w(t,e,null),r=!0},p(i,o){const c={};o&1024&&(c.foregroundHeight=i[10]),o&2048&&(c.foregroundWidth=i[11]),o&4&&(c.curves=i[2].curves),!n&&o&1&&(n=!0,c.targetSelected=i[0],O(()=>n=!1)),t.$set(c)},i(i){r||(g(t.$$.fragment,i),r=!0)},o(i){_(t.$$.fragment,i),r=!1},d(i){i&&d(e),S(t)}}}function he(a){let e;return{c(){e=T("div"),this.h()},l(t){e=E(t,"DIV",{slot:!0,style:!0}),H(e).forEach(d),this.h()},h(){V(e,"slot","background"),U(e,"background","#aaa")},m(t,n){$(t,e,n)},p:D,d(t){t&&d(e)}}}function pe(a){let e;return{c(){e=y("Read instructions")},l(t){e=I(t,"Read instructions")},m(t,n){$(t,e,n)},d(t){t&&d(e)}}}function $e(a){let e,t;return e=new te({props:{back:!0,to:"/scan/mapscanning",$$slots:{default:[ve]},$$scope:{ctx:a}}}),{c(){v(e.$$.fragment)},l(n){k(e.$$.fragment,n)},m(n,r){w(e,n,r),t=!0},p(n,r){const l={};r&4096&&(l.$$scope={dirty:r,ctx:n}),e.$set(l)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function be(a){let e,t,n,r=a[0]!=-1&&L(a);function l(){return a[8](a[11],a[10])}return t=new F({props:{icon:x,$$slots:{default:[we]},$$scope:{ctx:a}}}),t.$on("click",l),{c(){r&&r.c(),e=R(),v(t.$$.fragment)},l(u){r&&r.l(u),e=A(u),k(t.$$.fragment,u)},m(u,i){r&&r.m(u,i),$(u,e,i),w(t,u,i),n=!0},p(u,i){a=u,a[0]!=-1?r?(r.p(a,i),i&1&&g(r,1)):(r=L(a),r.c(),g(r,1),r.m(e.parentNode,e)):r&&(z(),_(r,1,1,()=>{r=null}),J());const o={};i&4096&&(o.$$scope={dirty:i,ctx:a}),t.$set(o)},i(u){n||(g(r),g(t.$$.fragment,u),n=!0)},o(u){_(r),_(t.$$.fragment,u),n=!1},d(u){r&&r.d(u),u&&d(e),S(t,u)}}}function ve(a){let e;return{c(){e=y("No image found. Go to map scanning")},l(t){e=I(t,"No image found. Go to map scanning")},m(t,n){$(t,e,n)},d(t){t&&d(e)}}}function L(a){let e,t;return e=new F({props:{secondary:!0,icon:ee,$$slots:{default:[ke]},$$scope:{ctx:a}}}),e.$on("click",a[5]),{c(){v(e.$$.fragment)},l(n){k(e.$$.fragment,n)},m(n,r){w(e,n,r),t=!0},p(n,r){const l={};r&4097&&(l.$$scope={dirty:r,ctx:n}),e.$set(l)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){_(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function ke(a){let e,t;return{c(){e=y("Remove steam turbine #"),t=y(a[0])},l(n){e=I(n,"Remove steam turbine #"),t=I(n,a[0])},m(n,r){$(n,e,r),$(n,t,r)},p(n,r){r&1&&X(t,n[0])},d(n){n&&d(e),n&&d(t)}}}function we(a){let e;return{c(){e=y("Add steam turbine")},l(t){e=I(t,"Add steam turbine")},m(t,n){$(t,e,n)},d(t){t&&d(e)}}}function Se(a){let e,t,n,r,l,u;t=new F({props:{icon:Z,$$slots:{default:[pe]},$$scope:{ctx:a}}}),t.$on("click",a[7]);const i=[be,$e],o=[];function c(f,s){return f[2]?0:1}return r=c(a),l=o[r]=i[r](a),{c(){e=T("div"),v(t.$$.fragment),n=R(),l.c(),this.h()},l(f){e=E(f,"DIV",{slot:!0});var s=H(e);k(t.$$.fragment,s),n=A(s),l.l(s),s.forEach(d),this.h()},h(){V(e,"slot","footer")},m(f,s){$(f,e,s),w(t,e,null),P(e,n),o[r].m(e,null),u=!0},p(f,s){const h={};s&4096&&(h.$$scope={dirty:s,ctx:f}),t.$set(h);let m=r;r=c(f),r===m?o[r].p(f,s):(z(),_(o[m],1,1,()=>{o[m]=null}),J(),l=o[r],l?l.p(f,s):(l=o[r]=i[r](f),l.c()),g(l,1),l.m(e,null))},i(f){u||(g(t.$$.fragment,f),g(l),u=!0)},o(f){_(t.$$.fragment,f),_(l),u=!1},d(f){f&&d(e),S(t),o[r].d()}}}function ye(a){let e,t,n,r,l;function u(o){a[6](o)}let i={title:"transformation instructions",closeButtons:"top",$$slots:{default:[ge]},$$scope:{ctx:a}};return a[1]!==void 0&&(i.visible=a[1]),e=new ie({props:i}),q.push(()=>G(e,"visible",u)),r=new le({props:{title:"Placing steam turbines",$$slots:{footer:[Se,({foregroundHeight:o,foregroundWidth:c})=>({10:o,11:c}),({foregroundHeight:o,foregroundWidth:c})=>(o?1024:0)|(c?2048:0)],background:[he,({foregroundHeight:o,foregroundWidth:c})=>({10:o,11:c}),({foregroundHeight:o,foregroundWidth:c})=>(o?1024:0)|(c?2048:0)],default:[_e,({foregroundHeight:o,foregroundWidth:c})=>({10:o,11:c}),({foregroundHeight:o,foregroundWidth:c})=>(o?1024:0)|(c?2048:0)]},$$scope:{ctx:a}}}),{c(){v(e.$$.fragment),n=R(),v(r.$$.fragment)},l(o){k(e.$$.fragment,o),n=A(o),k(r.$$.fragment,o)},m(o,c){w(e,o,c),$(o,n,c),w(r,o,c),l=!0},p(o,[c]){const f={};c&4096&&(f.$$scope={dirty:c,ctx:o}),!t&&c&2&&(t=!0,f.visible=o[1],O(()=>t=!1)),e.$set(f);const s={};c&7173&&(s.$$scope={dirty:c,ctx:o}),r.$set(s)},i(o){l||(g(e.$$.fragment,o),g(r.$$.fragment,o),l=!0)},o(o){_(e.$$.fragment,o),_(r.$$.fragment,o),l=!1},d(o){S(e,o),o&&d(n),S(r,o)}}}function Ie(a,e,t){let n;C(a,ae,m=>t(2,n=m));let r=-1,l=!1;const u=()=>t(1,l=!l);function i(m,b){const W=new se(m,b,20);W.enableSelection(),N.add(W)}function o(){r!=-1&&(N.remove(r),t(0,r=-1))}Q(()=>{});function c(m){l=m,t(1,l)}const f=()=>u(),s=(m,b)=>i(m/2,b/2);function h(m){r=m,t(0,r)}return[r,l,n,u,i,o,c,f,s,h]}class Ne extends M{constructor(e){super(),Y(this,e,Ie,ye,j,{})}}export{Ne as default};
