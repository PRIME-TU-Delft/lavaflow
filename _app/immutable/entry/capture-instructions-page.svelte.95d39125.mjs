import{S as te,i as ne,s as ie,k as y,q as B,a as b,y as T,l as I,m as S,r as C,h as g,c as k,z as D,n as d,b as v,G as _,A,g as $,d as w,B as E,e as G,v as Y,f as Z,N as P,u as x,M as N}from"../chunks/index.525666b8.mjs";import{g as re}from"../chunks/navigation.c1482374.mjs";import{a as j}from"../chunks/paths.1b555b68.mjs";import{A as F}from"../chunks/ActionButton.b6436ad5.mjs";import{A as se}from"../chunks/ActionMenu.61217329.mjs";import{c as le}from"../chunks/contourLineStore.51cd97ee.mjs";import{h as oe,a as ae}from"../chunks/hardCoded.78560cc6.mjs";import{s as ce}from"../chunks/sizeStore.02e4eb31.mjs";import{d as H}from"../chunks/Preview.svelte_svelte_type_style_lang.069820c8.mjs";import{T as L,a as ee}from"../chunks/TimelineItem.6d34e628.mjs";function O(c,e,r){const n=c.slice();return n[5]=e[r],n}function J(c,e,r){const n=c.slice();return n[8]=e[r],n[10]=r,n}function R(c,e,r){const n=c.slice();return n[5]=e[r],n}function U(c,e,r){const n=c.slice();return n[8]=e[r],n[10]=r,n}function W(c){let e,r,n;return{c(){e=y("img"),this.h()},l(t){e=I(t,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){d(e,"class","h-80 w-full object-contain"),N(e.src,r=c[8])||d(e,"src",r),d(e,"alt",n="instructional image for "+c[5].title+" "+c[10])},m(t,l){v(t,e,l)},p(t,l){l&1&&!N(e.src,r=t[8])&&d(e,"src",r),l&1&&n!==(n="instructional image for "+t[5].title+" "+t[10])&&d(e,"alt",n)},d(t){t&&g(e)}}}function fe(c){let e,r,n=c[5].description+"",t,l,s,o=c[5].imagepath,i=[];for(let a=0;a<o.length;a+=1)i[a]=W(U(c,o,a));return{c(){e=y("div"),r=y("p"),t=B(n),l=b();for(let a=0;a<i.length;a+=1)i[a].c();s=b(),this.h()},l(a){e=I(a,"DIV",{class:!0});var u=S(e);r=I(u,"P",{});var f=S(r);t=C(f,n),f.forEach(g),l=k(u);for(let m=0;m<i.length;m+=1)i[m].l(u);u.forEach(g),s=k(a),this.h()},h(){d(e,"class","prose")},m(a,u){v(a,e,u),_(e,r),_(r,t),_(e,l);for(let f=0;f<i.length;f+=1)i[f].m(e,null);v(a,s,u)},p(a,u){if(u&1&&n!==(n=a[5].description+"")&&x(t,n),u&1){o=a[5].imagepath;let f;for(f=0;f<o.length;f+=1){const m=U(a,o,f);i[f]?i[f].p(m,u):(i[f]=W(m),i[f].c(),i[f].m(e,null))}for(;f<i.length;f+=1)i[f].d(1);i.length=o.length}},d(a){a&&g(e),P(i,a),a&&g(s)}}}function K(c){let e,r;return e=new ee({props:{title:c[5].title,$$slots:{default:[fe]},$$scope:{ctx:c}}}),{c(){T(e.$$.fragment)},l(n){D(e.$$.fragment,n)},m(n,t){A(e,n,t),r=!0},p(n,t){const l={};t&1&&(l.title=n[5].title),t&16385&&(l.$$scope={dirty:t,ctx:n}),e.$set(l)},i(n){r||($(e.$$.fragment,n),r=!0)},o(n){w(e.$$.fragment,n),r=!1},d(n){E(e,n)}}}function ue(c){let e,r,n=c[0],t=[];for(let s=0;s<n.length;s+=1)t[s]=K(R(c,n,s));const l=s=>w(t[s],1,1,()=>{t[s]=null});return{c(){for(let s=0;s<t.length;s+=1)t[s].c();e=G()},l(s){for(let o=0;o<t.length;o+=1)t[o].l(s);e=G()},m(s,o){for(let i=0;i<t.length;i+=1)t[i].m(s,o);v(s,e,o),r=!0},p(s,o){if(o&1){n=s[0];let i;for(i=0;i<n.length;i+=1){const a=R(s,n,i);t[i]?(t[i].p(a,o),$(t[i],1)):(t[i]=K(a),t[i].c(),$(t[i],1),t[i].m(e.parentNode,e))}for(Y(),i=n.length;i<t.length;i+=1)l(i);Z()}},i(s){if(!r){for(let o=0;o<n.length;o+=1)$(t[o]);r=!0}},o(s){t=t.filter(Boolean);for(let o=0;o<t.length;o+=1)w(t[o]);r=!1},d(s){P(t,s),s&&g(e)}}}function Q(c){let e,r,n;return{c(){e=y("img"),this.h()},l(t){e=I(t,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){d(e,"class","h-80 w-full object-contain"),N(e.src,r=c[8])||d(e,"src",r),d(e,"alt",n="instructional image for "+c[5].title+" "+c[10])},m(t,l){v(t,e,l)},p(t,l){l&2&&!N(e.src,r=t[8])&&d(e,"src",r),l&2&&n!==(n="instructional image for "+t[5].title+" "+t[10])&&d(e,"alt",n)},d(t){t&&g(e)}}}function he(c){let e,r,n=c[5].description+"",t,l,s,o=c[5].imagepath,i=[];for(let a=0;a<o.length;a+=1)i[a]=Q(J(c,o,a));return{c(){e=y("div"),r=y("p"),t=B(n),l=b();for(let a=0;a<i.length;a+=1)i[a].c();s=b(),this.h()},l(a){e=I(a,"DIV",{class:!0});var u=S(e);r=I(u,"P",{});var f=S(r);t=C(f,n),f.forEach(g),l=k(u);for(let m=0;m<i.length;m+=1)i[m].l(u);u.forEach(g),s=k(a),this.h()},h(){d(e,"class","prose")},m(a,u){v(a,e,u),_(e,r),_(r,t),_(e,l);for(let f=0;f<i.length;f+=1)i[f].m(e,null);v(a,s,u)},p(a,u){if(u&2&&n!==(n=a[5].description+"")&&x(t,n),u&2){o=a[5].imagepath;let f;for(f=0;f<o.length;f+=1){const m=J(a,o,f);i[f]?i[f].p(m,u):(i[f]=Q(m),i[f].c(),i[f].m(e,null))}for(;f<i.length;f+=1)i[f].d(1);i.length=o.length}},d(a){a&&g(e),P(i,a),a&&g(s)}}}function X(c){let e,r;return e=new ee({props:{title:c[5].title,$$slots:{default:[he]},$$scope:{ctx:c}}}),{c(){T(e.$$.fragment)},l(n){D(e.$$.fragment,n)},m(n,t){A(e,n,t),r=!0},p(n,t){const l={};t&2&&(l.title=n[5].title),t&16386&&(l.$$scope={dirty:t,ctx:n}),e.$set(l)},i(n){r||($(e.$$.fragment,n),r=!0)},o(n){w(e.$$.fragment,n),r=!1},d(n){E(e,n)}}}function me(c){let e,r,n=c[1],t=[];for(let s=0;s<n.length;s+=1)t[s]=X(O(c,n,s));const l=s=>w(t[s],1,1,()=>{t[s]=null});return{c(){for(let s=0;s<t.length;s+=1)t[s].c();e=G()},l(s){for(let o=0;o<t.length;o+=1)t[o].l(s);e=G()},m(s,o){for(let i=0;i<t.length;i+=1)t[i].m(s,o);v(s,e,o),r=!0},p(s,o){if(o&2){n=s[1];let i;for(i=0;i<n.length;i+=1){const a=O(s,n,i);t[i]?(t[i].p(a,o),$(t[i],1)):(t[i]=X(a),t[i].c(),$(t[i],1),t[i].m(e.parentNode,e))}for(Y(),i=n.length;i<t.length;i+=1)l(i);Z()}},i(s){if(!r){for(let o=0;o<n.length;o+=1)$(t[o]);r=!0}},o(s){t=t.filter(Boolean);for(let o=0;o<t.length;o+=1)w(t[o]);r=!1},d(s){P(t,s),s&&g(e)}}}function ge(c){let e;return{c(){e=B("Start with prescanned image")},l(r){e=C(r,"Start with prescanned image")},m(r,n){v(r,e,n)},d(r){r&&g(e)}}}function pe(c){let e;return{c(){e=B("Start scanning (recommended)")},l(r){e=C(r,"Start scanning (recommended)")},m(r,n){v(r,e,n)},d(r){r&&g(e)}}}function _e(c){let e,r,n,t;return e=new F({props:{secondary:!0,icon:H,$$slots:{default:[ge]},$$scope:{ctx:c}}}),e.$on("click",c[2]),n=new F({props:{href:"/capture",icon:H,$$slots:{default:[pe]},$$scope:{ctx:c}}}),{c(){T(e.$$.fragment),r=b(),T(n.$$.fragment)},l(l){D(e.$$.fragment,l),r=k(l),D(n.$$.fragment,l)},m(l,s){A(e,l,s),v(l,r,s),A(n,l,s),t=!0},p(l,s){const o={};s&16384&&(o.$$scope={dirty:s,ctx:l}),e.$set(o);const i={};s&16384&&(i.$$scope={dirty:s,ctx:l}),n.$set(i)},i(l){t||($(e.$$.fragment,l),$(n.$$.fragment,l),t=!0)},o(l){w(e.$$.fragment,l),w(n.$$.fragment,l),t=!1},d(l){E(e,l),l&&g(r),E(n,l)}}}function de(c){let e,r,n,t,l,s,o,i,a,u,f,m,z;return l=new L({props:{$$slots:{default:[ue]},$$scope:{ctx:c}}}),u=new L({props:{$$slots:{default:[me]},$$scope:{ctx:c}}}),m=new se({props:{$$slots:{default:[_e]},$$scope:{ctx:c}}}),{c(){e=y("div"),r=y("h2"),n=B("Capture instructions"),t=b(),T(l.$$.fragment),s=b(),o=y("h2"),i=B("Scan instructions"),a=b(),T(u.$$.fragment),f=b(),T(m.$$.fragment),this.h()},l(h){e=I(h,"DIV",{class:!0});var p=S(e);r=I(p,"H2",{});var M=S(r);n=C(M,"Capture instructions"),M.forEach(g),t=k(p),D(l.$$.fragment,p),s=k(p),o=I(p,"H2",{});var q=S(o);i=C(q,"Scan instructions"),q.forEach(g),a=k(p),D(u.$$.fragment,p),p.forEach(g),f=k(h),D(m.$$.fragment,h),this.h()},h(){d(e,"class","prose mx-auto my-16 p-4")},m(h,p){v(h,e,p),_(e,r),_(r,n),_(e,t),A(l,e,null),_(e,s),_(e,o),_(o,i),_(e,a),A(u,e,null),v(h,f,p),A(m,h,p),z=!0},p(h,[p]){const M={};p&16385&&(M.$$scope={dirty:p,ctx:h}),l.$set(M);const q={};p&16386&&(q.$$scope={dirty:p,ctx:h}),u.$set(q);const V={};p&16384&&(V.$$scope={dirty:p,ctx:h}),m.$set(V)},i(h){z||($(l.$$.fragment,h),$(u.$$.fragment,h),$(m.$$.fragment,h),z=!0)},o(h){w(l.$$.fragment,h),w(u.$$.fragment,h),w(m.$$.fragment,h),z=!1},d(h){h&&g(e),E(l),E(u),h&&g(f),E(m,h)}}}function $e(c,e,r){const n=`${j}/instructional-images/drawing/`,t=`${j}/instructional-images/scanning/`;let{drawingInstructions:l=[{title:"A correctly drawn set of level curves",description:"Be as creative as you like! Just make sure not to make any of the following mistakes",imagepath:[n+"correct.svg"]},{title:"Curves should not overlap",description:"The curves should have sufficient margin between them, overlapping or close lines are harder to interpret",imagepath:[n+"overlapping_lines.svg"]},{title:"Draw with a dark pen",description:"To recognise your level curves, we prefer a dark and thick marker. Using a lighter pen will likely not work",imagepath:[n+"line_visibility.svg"]},{title:"Close your curves",description:"Dont draw any open ended line. Open ended lines will be ignored or misinterpreted.",imagepath:[n+"disconnected_line.svg"]},{title:"Draw in the box",description:"To make the next step easier, do not draw outside of the square shown on the page",imagepath:[n+"correct_in_box.svg",n+"out_of_box.svg"]},{title:"Do not draw loose ends",description:"Try to keep your curves neat, as having dangling lines can lead to unintended behaviour.",imagepath:[n+"loose_ends.svg"]}]}=e,{scanningInstructions:s=[{title:"A correct scan",description:"Try to capture an image where your level curves are the focus of the image.",imagepath:[t+"correct.svg"]},{title:"Orientation of the scan",description:"The orientation of your level curves in the camera field highly influences scanning. This example is not parallel, but will probably still work. For best the best result try to scan the paper as close to parallel as possible. This is easiest if you put your paper on a table instead of holding it. ",imagepath:[t+"correct_tilted.svg"]},{title:"Four corners visible",description:"To scan the level curves, we need to have the four corners of the page visible",imagepath:[t+"out_of_frame.svg"]},{title:"Drawing should not be too far",description:"Scanning works best from a distance of 0.5 meters from the piece of paper.",imagepath:[t+"page_too_small.svg"]},{title:"Shadows on page",description:"Level curves are hard to distinguish from the background in a low light setting. Try to use natural daylight or a proper ceiling light for the best results. Be wary of sharp or dark shadows on the drawing, as they might be interpreted as part of your drawing.",imagepath:[t+"shadow_on_page.svg"]}]}=e;function o(){const{curves:i,hierarchy:a}={curves:oe,hierarchy:ae},[u,f]=[1e3,800];le.setup({curves:i,hierarchy:a,size:{width:u,height:f}}),ce.set({width:u,height:f}),re("/preview")}return c.$$set=i=>{"drawingInstructions"in i&&r(0,l=i.drawingInstructions),"scanningInstructions"in i&&r(1,s=i.scanningInstructions)},[l,s,o]}class Ee extends te{constructor(e){super(),ne(this,e,$e,de,ie,{drawingInstructions:0,scanningInstructions:1})}}export{Ee as default};
