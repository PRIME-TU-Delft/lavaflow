import{U as Pr,S as ve,i as he,s as J,a as Y,e as I,c as Z,b as E,g as h,v as ee,d as g,f as te,h as b,V as re,o as vt,W as V,X as ae,k as Q,l as $,m as U,H as ge,Y as Je,y as P,z as M,A as B,Z as Ie,_ as ir,B as j,w as nt,C as le,D as fe,E as ue,F as ce,n as se,$ as ar,a0 as sr,a1 as Br,T as K,a2 as $e,a3 as xe,a4 as jr,N as pe,P as Tr,a5 as lr,a6 as fr,a7 as et,x as Tt,a8 as Rr,q as ot,r as it,G as Pe,L as Ir,u as ur}from"../chunks/index.057f4a85.mjs";import{g as Rt}from"../chunks/navigation.2c36f9e0.mjs";import{M as Mr,A as Nr}from"../chunks/Menubar.353b8d6f.mjs";import{E as Hr}from"../chunks/ErrorMessage.c5382775.mjs";import{i as Sr}from"../chunks/imageStore.4db72b74.mjs";import{s as Wr}from"../chunks/sizeStore.86b501f4.mjs";import{e as tt,B as Ve,I as cr,c as Vr,f as zr}from"../chunks/Preview.svelte_svelte_type_style_lang.fcda0ea2.mjs";import{F as Fr,C as It,a as Ur}from"../chunks/ChevronUp.8f627562.mjs";import{i as qr,a as Xr,e as Yr,b as Zr,c as Gr,d as Jr,t as Kr,S as Qr,f as $r}from"../chunks/index.es.0e82dbe9.mjs";import{S as xr}from"../chunks/Spinner.c841ed5c.mjs";var q="top",ne="bottom",oe="right",X="left",ht="auto",Ue=[q,ne,oe,X],Be="start",ze="end",en="clippingParents",pr="viewport",He="popper",tn="reference",Mt=Ue.reduce(function(r,e){return r.concat([e+"-"+Be,e+"-"+ze])},[]),dr=[].concat(Ue,[ht]).reduce(function(r,e){return r.concat([e,e+"-"+Be,e+"-"+ze])},[]),rn="beforeRead",nn="read",on="afterRead",an="beforeMain",sn="main",ln="afterMain",fn="beforeWrite",un="write",cn="afterWrite",pn=[rn,nn,on,an,sn,ln,fn,un,cn];function me(r){return r?(r.nodeName||"").toLowerCase():null}function ie(r){if(r==null)return window;if(r.toString()!=="[object Window]"){var e=r.ownerDocument;return e&&e.defaultView||window}return r}function Le(r){var e=ie(r).Element;return r instanceof e||r instanceof Element}function x(r){var e=ie(r).HTMLElement;return r instanceof e||r instanceof HTMLElement}function gt(r){if(typeof ShadowRoot>"u")return!1;var e=ie(r).ShadowRoot;return r instanceof e||r instanceof ShadowRoot}function dn(r){var e=r.state;Object.keys(e.elements).forEach(function(t){var n=e.styles[t]||{},o=e.attributes[t]||{},a=e.elements[t];!x(a)||!me(a)||(Object.assign(a.style,n),Object.keys(o).forEach(function(i){var s=o[i];s===!1?a.removeAttribute(i):a.setAttribute(i,s===!0?"":s)}))})}function mn(r){var e=r.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(n){var o=e.elements[n],a=e.attributes[n]||{},i=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:t[n]),s=i.reduce(function(l,f){return l[f]="",l},{});!x(o)||!me(o)||(Object.assign(o.style,s),Object.keys(a).forEach(function(l){o.removeAttribute(l)}))})}}const vn={name:"applyStyles",enabled:!0,phase:"write",fn:dn,effect:mn,requires:["computeStyles"]};function de(r){return r.split("-")[0]}var Ce=Math.max,rt=Math.min,je=Math.round;function dt(){var r=navigator.userAgentData;return r!=null&&r.brands?r.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function mr(){return!/^((?!chrome|android).)*safari/i.test(dt())}function Te(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var n=r.getBoundingClientRect(),o=1,a=1;e&&x(r)&&(o=r.offsetWidth>0&&je(n.width)/r.offsetWidth||1,a=r.offsetHeight>0&&je(n.height)/r.offsetHeight||1);var i=Le(r)?ie(r):window,s=i.visualViewport,l=!mr()&&t,f=(n.left+(l&&s?s.offsetLeft:0))/o,u=(n.top+(l&&s?s.offsetTop:0))/a,p=n.width/o,c=n.height/a;return{width:p,height:c,top:u,right:f+p,bottom:u+c,left:f,x:f,y:u}}function _t(r){var e=Te(r),t=r.offsetWidth,n=r.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:r.offsetLeft,y:r.offsetTop,width:t,height:n}}function vr(r,e){var t=e.getRootNode&&e.getRootNode();if(r.contains(e))return!0;if(t&&gt(t)){var n=e;do{if(n&&r.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function _e(r){return ie(r).getComputedStyle(r)}function hn(r){return["table","td","th"].indexOf(me(r))>=0}function ye(r){return((Le(r)?r.ownerDocument:r.document)||window.document).documentElement}function at(r){return me(r)==="html"?r:r.assignedSlot||r.parentNode||(gt(r)?r.host:null)||ye(r)}function Nt(r){return!x(r)||_e(r).position==="fixed"?null:r.offsetParent}function gn(r){var e=/firefox/i.test(dt()),t=/Trident/i.test(dt());if(t&&x(r)){var n=_e(r);if(n.position==="fixed")return null}var o=at(r);for(gt(o)&&(o=o.host);x(o)&&["html","body"].indexOf(me(o))<0;){var a=_e(o);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return o;o=o.parentNode}return null}function qe(r){for(var e=ie(r),t=Nt(r);t&&hn(t)&&_e(t).position==="static";)t=Nt(t);return t&&(me(t)==="html"||me(t)==="body"&&_e(t).position==="static")?e:t||gn(r)||e}function bt(r){return["top","bottom"].indexOf(r)>=0?"x":"y"}function Se(r,e,t){return Ce(r,rt(e,t))}function _n(r,e,t){var n=Se(r,e,t);return n>t?t:n}function hr(){return{top:0,right:0,bottom:0,left:0}}function gr(r){return Object.assign({},hr(),r)}function _r(r,e){return e.reduce(function(t,n){return t[n]=r,t},{})}var bn=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,gr(typeof e!="number"?e:_r(e,Ue))};function wn(r){var e,t=r.state,n=r.name,o=r.options,a=t.elements.arrow,i=t.modifiersData.popperOffsets,s=de(t.placement),l=bt(s),f=[X,oe].indexOf(s)>=0,u=f?"height":"width";if(!(!a||!i)){var p=bn(o.padding,t),c=_t(a),d=l==="y"?q:X,m=l==="y"?ne:oe,y=t.rects.reference[u]+t.rects.reference[l]-i[l]-t.rects.popper[u],k=i[l]-t.rects.reference[l],w=qe(a),C=w?l==="y"?w.clientHeight||0:w.clientWidth||0:0,L=y/2-k/2,v=p[d],O=C-c[u]-p[m],D=C/2-c[u]/2+L,A=Se(v,D,O),T=l;t.modifiersData[n]=(e={},e[T]=A,e.centerOffset=A-D,e)}}function yn(r){var e=r.state,t=r.options,n=t.element,o=n===void 0?"[data-popper-arrow]":n;o!=null&&(typeof o=="string"&&(o=e.elements.popper.querySelector(o),!o)||vr(e.elements.popper,o)&&(e.elements.arrow=o))}const kn={name:"arrow",enabled:!0,phase:"main",fn:wn,effect:yn,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Re(r){return r.split("-")[1]}var On={top:"auto",right:"auto",bottom:"auto",left:"auto"};function En(r){var e=r.x,t=r.y,n=window,o=n.devicePixelRatio||1;return{x:je(e*o)/o||0,y:je(t*o)/o||0}}function Ht(r){var e,t=r.popper,n=r.popperRect,o=r.placement,a=r.variation,i=r.offsets,s=r.position,l=r.gpuAcceleration,f=r.adaptive,u=r.roundOffsets,p=r.isFixed,c=i.x,d=c===void 0?0:c,m=i.y,y=m===void 0?0:m,k=typeof u=="function"?u({x:d,y}):{x:d,y};d=k.x,y=k.y;var w=i.hasOwnProperty("x"),C=i.hasOwnProperty("y"),L=X,v=q,O=window;if(f){var D=qe(t),A="clientHeight",T="clientWidth";if(D===ie(t)&&(D=ye(t),_e(D).position!=="static"&&s==="absolute"&&(A="scrollHeight",T="scrollWidth")),D=D,o===q||(o===X||o===oe)&&a===ze){v=ne;var H=p&&D===O&&O.visualViewport?O.visualViewport.height:D[A];y-=H-n.height,y*=l?1:-1}if(o===X||(o===q||o===ne)&&a===ze){L=oe;var N=p&&D===O&&O.visualViewport?O.visualViewport.width:D[T];d-=N-n.width,d*=l?1:-1}}var S=Object.assign({position:s},f&&On),G=u===!0?En({x:d,y}):{x:d,y};if(d=G.x,y=G.y,l){var z;return Object.assign({},S,(z={},z[v]=C?"0":"",z[L]=w?"0":"",z.transform=(O.devicePixelRatio||1)<=1?"translate("+d+"px, "+y+"px)":"translate3d("+d+"px, "+y+"px, 0)",z))}return Object.assign({},S,(e={},e[v]=C?y+"px":"",e[L]=w?d+"px":"",e.transform="",e))}function Cn(r){var e=r.state,t=r.options,n=t.gpuAcceleration,o=n===void 0?!0:n,a=t.adaptive,i=a===void 0?!0:a,s=t.roundOffsets,l=s===void 0?!0:s,f={placement:de(e.placement),variation:Re(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Ht(Object.assign({},f,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:i,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Ht(Object.assign({},f,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Ln={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Cn,data:{}};var Ke={passive:!0};function Dn(r){var e=r.state,t=r.instance,n=r.options,o=n.scroll,a=o===void 0?!0:o,i=n.resize,s=i===void 0?!0:i,l=ie(e.elements.popper),f=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&f.forEach(function(u){u.addEventListener("scroll",t.update,Ke)}),s&&l.addEventListener("resize",t.update,Ke),function(){a&&f.forEach(function(u){u.removeEventListener("scroll",t.update,Ke)}),s&&l.removeEventListener("resize",t.update,Ke)}}const An={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Dn,data:{}};var Pn={left:"right",right:"left",bottom:"top",top:"bottom"};function Qe(r){return r.replace(/left|right|bottom|top/g,function(e){return Pn[e]})}var Bn={start:"end",end:"start"};function St(r){return r.replace(/start|end/g,function(e){return Bn[e]})}function wt(r){var e=ie(r),t=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:t,scrollTop:n}}function yt(r){return Te(ye(r)).left+wt(r).scrollLeft}function jn(r,e){var t=ie(r),n=ye(r),o=t.visualViewport,a=n.clientWidth,i=n.clientHeight,s=0,l=0;if(o){a=o.width,i=o.height;var f=mr();(f||!f&&e==="fixed")&&(s=o.offsetLeft,l=o.offsetTop)}return{width:a,height:i,x:s+yt(r),y:l}}function Tn(r){var e,t=ye(r),n=wt(r),o=(e=r.ownerDocument)==null?void 0:e.body,a=Ce(t.scrollWidth,t.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),i=Ce(t.scrollHeight,t.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),s=-n.scrollLeft+yt(r),l=-n.scrollTop;return _e(o||t).direction==="rtl"&&(s+=Ce(t.clientWidth,o?o.clientWidth:0)-a),{width:a,height:i,x:s,y:l}}function kt(r){var e=_e(r),t=e.overflow,n=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+o+n)}function br(r){return["html","body","#document"].indexOf(me(r))>=0?r.ownerDocument.body:x(r)&&kt(r)?r:br(at(r))}function We(r,e){var t;e===void 0&&(e=[]);var n=br(r),o=n===((t=r.ownerDocument)==null?void 0:t.body),a=ie(n),i=o?[a].concat(a.visualViewport||[],kt(n)?n:[]):n,s=e.concat(i);return o?s:s.concat(We(at(i)))}function mt(r){return Object.assign({},r,{left:r.x,top:r.y,right:r.x+r.width,bottom:r.y+r.height})}function Rn(r,e){var t=Te(r,!1,e==="fixed");return t.top=t.top+r.clientTop,t.left=t.left+r.clientLeft,t.bottom=t.top+r.clientHeight,t.right=t.left+r.clientWidth,t.width=r.clientWidth,t.height=r.clientHeight,t.x=t.left,t.y=t.top,t}function Wt(r,e,t){return e===pr?mt(jn(r,t)):Le(e)?Rn(e,t):mt(Tn(ye(r)))}function In(r){var e=We(at(r)),t=["absolute","fixed"].indexOf(_e(r).position)>=0,n=t&&x(r)?qe(r):r;return Le(n)?e.filter(function(o){return Le(o)&&vr(o,n)&&me(o)!=="body"}):[]}function Mn(r,e,t,n){var o=e==="clippingParents"?In(r):[].concat(e),a=[].concat(o,[t]),i=a[0],s=a.reduce(function(l,f){var u=Wt(r,f,n);return l.top=Ce(u.top,l.top),l.right=rt(u.right,l.right),l.bottom=rt(u.bottom,l.bottom),l.left=Ce(u.left,l.left),l},Wt(r,i,n));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function wr(r){var e=r.reference,t=r.element,n=r.placement,o=n?de(n):null,a=n?Re(n):null,i=e.x+e.width/2-t.width/2,s=e.y+e.height/2-t.height/2,l;switch(o){case q:l={x:i,y:e.y-t.height};break;case ne:l={x:i,y:e.y+e.height};break;case oe:l={x:e.x+e.width,y:s};break;case X:l={x:e.x-t.width,y:s};break;default:l={x:e.x,y:e.y}}var f=o?bt(o):null;if(f!=null){var u=f==="y"?"height":"width";switch(a){case Be:l[f]=l[f]-(e[u]/2-t[u]/2);break;case ze:l[f]=l[f]+(e[u]/2-t[u]/2);break}}return l}function Fe(r,e){e===void 0&&(e={});var t=e,n=t.placement,o=n===void 0?r.placement:n,a=t.strategy,i=a===void 0?r.strategy:a,s=t.boundary,l=s===void 0?en:s,f=t.rootBoundary,u=f===void 0?pr:f,p=t.elementContext,c=p===void 0?He:p,d=t.altBoundary,m=d===void 0?!1:d,y=t.padding,k=y===void 0?0:y,w=gr(typeof k!="number"?k:_r(k,Ue)),C=c===He?tn:He,L=r.rects.popper,v=r.elements[m?C:c],O=Mn(Le(v)?v:v.contextElement||ye(r.elements.popper),l,u,i),D=Te(r.elements.reference),A=wr({reference:D,element:L,strategy:"absolute",placement:o}),T=mt(Object.assign({},L,A)),H=c===He?T:D,N={top:O.top-H.top+w.top,bottom:H.bottom-O.bottom+w.bottom,left:O.left-H.left+w.left,right:H.right-O.right+w.right},S=r.modifiersData.offset;if(c===He&&S){var G=S[o];Object.keys(N).forEach(function(z){var _=[oe,ne].indexOf(z)>=0?1:-1,W=[q,ne].indexOf(z)>=0?"y":"x";N[z]+=G[W]*_})}return N}function Nn(r,e){e===void 0&&(e={});var t=e,n=t.placement,o=t.boundary,a=t.rootBoundary,i=t.padding,s=t.flipVariations,l=t.allowedAutoPlacements,f=l===void 0?dr:l,u=Re(n),p=u?s?Mt:Mt.filter(function(m){return Re(m)===u}):Ue,c=p.filter(function(m){return f.indexOf(m)>=0});c.length===0&&(c=p);var d=c.reduce(function(m,y){return m[y]=Fe(r,{placement:y,boundary:o,rootBoundary:a,padding:i})[de(y)],m},{});return Object.keys(d).sort(function(m,y){return d[m]-d[y]})}function Hn(r){if(de(r)===ht)return[];var e=Qe(r);return[St(r),e,St(e)]}function Sn(r){var e=r.state,t=r.options,n=r.name;if(!e.modifiersData[n]._skip){for(var o=t.mainAxis,a=o===void 0?!0:o,i=t.altAxis,s=i===void 0?!0:i,l=t.fallbackPlacements,f=t.padding,u=t.boundary,p=t.rootBoundary,c=t.altBoundary,d=t.flipVariations,m=d===void 0?!0:d,y=t.allowedAutoPlacements,k=e.options.placement,w=de(k),C=w===k,L=l||(C||!m?[Qe(k)]:Hn(k)),v=[k].concat(L).reduce(function(Ae,be){return Ae.concat(de(be)===ht?Nn(e,{placement:be,boundary:u,rootBoundary:p,padding:f,flipVariations:m,allowedAutoPlacements:y}):be)},[]),O=e.rects.reference,D=e.rects.popper,A=new Map,T=!0,H=v[0],N=0;N<v.length;N++){var S=v[N],G=de(S),z=Re(S)===Be,_=[q,ne].indexOf(G)>=0,W=_?"width":"height",R=Fe(e,{placement:S,boundary:u,rootBoundary:p,altBoundary:c,padding:f}),F=_?z?oe:X:z?ne:q;O[W]>D[W]&&(F=Qe(F));var De=Qe(F),ke=[];if(a&&ke.push(R[G]<=0),s&&ke.push(R[F]<=0,R[De]<=0),ke.every(function(Ae){return Ae})){H=S,T=!1;break}A.set(S,ke)}if(T)for(var Xe=m?3:1,st=function(be){var Ne=v.find(function(Ze){var Oe=A.get(Ze);if(Oe)return Oe.slice(0,be).every(function(lt){return lt})});if(Ne)return H=Ne,"break"},Me=Xe;Me>0;Me--){var Ye=st(Me);if(Ye==="break")break}e.placement!==H&&(e.modifiersData[n]._skip=!0,e.placement=H,e.reset=!0)}}const Wn={name:"flip",enabled:!0,phase:"main",fn:Sn,requiresIfExists:["offset"],data:{_skip:!1}};function Vt(r,e,t){return t===void 0&&(t={x:0,y:0}),{top:r.top-e.height-t.y,right:r.right-e.width+t.x,bottom:r.bottom-e.height+t.y,left:r.left-e.width-t.x}}function zt(r){return[q,oe,ne,X].some(function(e){return r[e]>=0})}function Vn(r){var e=r.state,t=r.name,n=e.rects.reference,o=e.rects.popper,a=e.modifiersData.preventOverflow,i=Fe(e,{elementContext:"reference"}),s=Fe(e,{altBoundary:!0}),l=Vt(i,n),f=Vt(s,o,a),u=zt(l),p=zt(f);e.modifiersData[t]={referenceClippingOffsets:l,popperEscapeOffsets:f,isReferenceHidden:u,hasPopperEscaped:p},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":p})}const zn={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Vn};function Fn(r,e,t){var n=de(r),o=[X,q].indexOf(n)>=0?-1:1,a=typeof t=="function"?t(Object.assign({},e,{placement:r})):t,i=a[0],s=a[1];return i=i||0,s=(s||0)*o,[X,oe].indexOf(n)>=0?{x:s,y:i}:{x:i,y:s}}function Un(r){var e=r.state,t=r.options,n=r.name,o=t.offset,a=o===void 0?[0,0]:o,i=dr.reduce(function(u,p){return u[p]=Fn(p,e.rects,a),u},{}),s=i[e.placement],l=s.x,f=s.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=f),e.modifiersData[n]=i}const qn={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Un};function Xn(r){var e=r.state,t=r.name;e.modifiersData[t]=wr({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const Yn={name:"popperOffsets",enabled:!0,phase:"read",fn:Xn,data:{}};function Zn(r){return r==="x"?"y":"x"}function Gn(r){var e=r.state,t=r.options,n=r.name,o=t.mainAxis,a=o===void 0?!0:o,i=t.altAxis,s=i===void 0?!1:i,l=t.boundary,f=t.rootBoundary,u=t.altBoundary,p=t.padding,c=t.tether,d=c===void 0?!0:c,m=t.tetherOffset,y=m===void 0?0:m,k=Fe(e,{boundary:l,rootBoundary:f,padding:p,altBoundary:u}),w=de(e.placement),C=Re(e.placement),L=!C,v=bt(w),O=Zn(v),D=e.modifiersData.popperOffsets,A=e.rects.reference,T=e.rects.popper,H=typeof y=="function"?y(Object.assign({},e.rects,{placement:e.placement})):y,N=typeof H=="number"?{mainAxis:H,altAxis:H}:Object.assign({mainAxis:0,altAxis:0},H),S=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,G={x:0,y:0};if(D){if(a){var z,_=v==="y"?q:X,W=v==="y"?ne:oe,R=v==="y"?"height":"width",F=D[v],De=F+k[_],ke=F-k[W],Xe=d?-T[R]/2:0,st=C===Be?A[R]:T[R],Me=C===Be?-T[R]:-A[R],Ye=e.elements.arrow,Ae=d&&Ye?_t(Ye):{width:0,height:0},be=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:hr(),Ne=be[_],Ze=be[W],Oe=Se(0,A[R],Ae[R]),lt=L?A[R]/2-Xe-Oe-Ne-N.mainAxis:st-Oe-Ne-N.mainAxis,Or=L?-A[R]/2+Xe+Oe+Ze+N.mainAxis:Me+Oe+Ze+N.mainAxis,ft=e.elements.arrow&&qe(e.elements.arrow),Er=ft?v==="y"?ft.clientTop||0:ft.clientLeft||0:0,Ot=(z=S?.[v])!=null?z:0,Cr=F+lt-Ot-Er,Lr=F+Or-Ot,Et=Se(d?rt(De,Cr):De,F,d?Ce(ke,Lr):ke);D[v]=Et,G[v]=Et-F}if(s){var Ct,Dr=v==="x"?q:X,Ar=v==="x"?ne:oe,Ee=D[O],Ge=O==="y"?"height":"width",Lt=Ee+k[Dr],Dt=Ee-k[Ar],ut=[q,X].indexOf(w)!==-1,At=(Ct=S?.[O])!=null?Ct:0,Pt=ut?Lt:Ee-A[Ge]-T[Ge]-At+N.altAxis,Bt=ut?Ee+A[Ge]+T[Ge]-At-N.altAxis:Dt,jt=d&&ut?_n(Pt,Ee,Bt):Se(d?Pt:Lt,Ee,d?Bt:Dt);D[O]=jt,G[O]=jt-Ee}e.modifiersData[n]=G}}const Jn={name:"preventOverflow",enabled:!0,phase:"main",fn:Gn,requiresIfExists:["offset"]};function Kn(r){return{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}}function Qn(r){return r===ie(r)||!x(r)?wt(r):Kn(r)}function $n(r){var e=r.getBoundingClientRect(),t=je(e.width)/r.offsetWidth||1,n=je(e.height)/r.offsetHeight||1;return t!==1||n!==1}function xn(r,e,t){t===void 0&&(t=!1);var n=x(e),o=x(e)&&$n(e),a=ye(e),i=Te(r,o,t),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!t)&&((me(e)!=="body"||kt(a))&&(s=Qn(e)),x(e)?(l=Te(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):a&&(l.x=yt(a))),{x:i.left+s.scrollLeft-l.x,y:i.top+s.scrollTop-l.y,width:i.width,height:i.height}}function eo(r){var e=new Map,t=new Set,n=[];r.forEach(function(a){e.set(a.name,a)});function o(a){t.add(a.name);var i=[].concat(a.requires||[],a.requiresIfExists||[]);i.forEach(function(s){if(!t.has(s)){var l=e.get(s);l&&o(l)}}),n.push(a)}return r.forEach(function(a){t.has(a.name)||o(a)}),n}function to(r){var e=eo(r);return pn.reduce(function(t,n){return t.concat(e.filter(function(o){return o.phase===n}))},[])}function ro(r){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(r())})})),e}}function no(r){var e=r.reduce(function(t,n){var o=t[n.name];return t[n.name]=o?Object.assign({},o,n,{options:Object.assign({},o.options,n.options),data:Object.assign({},o.data,n.data)}):n,t},{});return Object.keys(e).map(function(t){return e[t]})}var Ft={placement:"bottom",modifiers:[],strategy:"absolute"};function Ut(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function oo(r){r===void 0&&(r={});var e=r,t=e.defaultModifiers,n=t===void 0?[]:t,o=e.defaultOptions,a=o===void 0?Ft:o;return function(s,l,f){f===void 0&&(f=a);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ft,a),modifiersData:{},elements:{reference:s,popper:l},attributes:{},styles:{}},p=[],c=!1,d={state:u,setOptions:function(w){var C=typeof w=="function"?w(u.options):w;y(),u.options=Object.assign({},a,u.options,C),u.scrollParents={reference:Le(s)?We(s):s.contextElement?We(s.contextElement):[],popper:We(l)};var L=to(no([].concat(n,u.options.modifiers)));return u.orderedModifiers=L.filter(function(v){return v.enabled}),m(),d.update()},forceUpdate:function(){if(!c){var w=u.elements,C=w.reference,L=w.popper;if(Ut(C,L)){u.rects={reference:xn(C,qe(L),u.options.strategy==="fixed"),popper:_t(L)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(N){return u.modifiersData[N.name]=Object.assign({},N.data)});for(var v=0;v<u.orderedModifiers.length;v++){if(u.reset===!0){u.reset=!1,v=-1;continue}var O=u.orderedModifiers[v],D=O.fn,A=O.options,T=A===void 0?{}:A,H=O.name;typeof D=="function"&&(u=D({state:u,options:T,name:H,instance:d})||u)}}}},update:ro(function(){return new Promise(function(k){d.forceUpdate(),k(u)})}),destroy:function(){y(),c=!0}};if(!Ut(s,l))return d;d.setOptions(f).then(function(k){!c&&f.onFirstUpdate&&f.onFirstUpdate(k)});function m(){u.orderedModifiers.forEach(function(k){var w=k.name,C=k.options,L=C===void 0?{}:C,v=k.effect;if(typeof v=="function"){var O=v({state:u,name:w,instance:d,options:L}),D=function(){};p.push(O||D)}})}function y(){p.forEach(function(k){return k()}),p=[]}return d}}var io=[An,Yn,Ln,vn,qn,Wn,Jn,kn,zn],ao=oo({defaultModifiers:io});function so(){const r=Pr();return(e,t,n)=>{const o=r.$$.callbacks[e];if(o){const a=new CustomEvent(e,{detail:n});t.dispatchEvent(a),o.slice().forEach(i=>{i.call(r,a)})}}}function qt(r){let e;return{c(){e=Q("div")},l(t){e=$(t,"DIV",{}),U(e).forEach(b)},m(t,n){E(t,e,n),r[19](e)},p:ge,d(t){t&&b(e),r[19](null)}}}function Xt(r){let e,t;const n=[{use:r[8]},{options:r[3]},{role:"tooltip"},{tabIndex:r[1]?-1:void 0},r[9],{class:tt("z-10 outline-none",r[10].class)}];let o={$$slots:{default:[lo]},$$scope:{ctx:r}};for(let a=0;a<n.length;a+=1)o=V(o,n[a]);return e=new Fr({props:o}),e.$on("focusin",function(){Je(we(r[1],r[6]))&&we(r[1],r[6]).apply(this,arguments)}),e.$on("focusout",function(){Je(we(r[1],r[7]))&&we(r[1],r[7]).apply(this,arguments)}),e.$on("mouseenter",function(){Je(we(r[1]&&!r[4],r[6]))&&we(r[1]&&!r[4],r[6]).apply(this,arguments)}),e.$on("mouseleave",function(){Je(we(r[1]&&!r[4],r[7]))&&we(r[1]&&!r[4],r[7]).apply(this,arguments)}),{c(){P(e.$$.fragment)},l(a){M(e.$$.fragment,a)},m(a,i){B(e,a,i),t=!0},p(a,i){r=a;const s=i&1802?Ie(n,[i&256&&{use:r[8]},i&8&&{options:r[3]},n[2],i&2&&{tabIndex:r[1]?-1:void 0},i&512&&ir(r[9]),i&1024&&{class:tt("z-10 outline-none",r[10].class)}]):{};i&1048580&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(a){t||(h(e.$$.fragment,a),t=!0)},o(a){g(e.$$.fragment,a),t=!1},d(a){j(e,a)}}}function Yt(r){let e;return{c(){e=Q("div"),this.h()},l(t){e=$(t,"DIV",{"data-popper-arrow":!0,class:!0}),U(e).forEach(b),this.h()},h(){se(e,"data-popper-arrow",""),se(e,"class","tooltip-arrow")},m(t,n){E(t,e,n)},d(t){t&&b(e)}}}function lo(r){let e,t,n;const o=r[18].default,a=le(o,r,r[20],null);let i=r[2]&&Yt();return{c(){a&&a.c(),e=Y(),i&&i.c(),t=I()},l(s){a&&a.l(s),e=Z(s),i&&i.l(s),t=I()},m(s,l){a&&a.m(s,l),E(s,e,l),i&&i.m(s,l),E(s,t,l),n=!0},p(s,l){a&&a.p&&(!n||l&1048576)&&fe(a,o,s,s[20],n?ce(o,s[20],l,null):ue(s[20]),null),s[2]?i||(i=Yt(),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null)},i(s){n||(h(a,s),n=!0)},o(s){g(a,s),n=!1},d(s){a&&a.d(s),s&&b(e),i&&i.d(s),s&&b(t)}}}function fo(r){let e,t,n,o=!r[3]&&qt(r),a=r[0]&&r[3]&&Xt(r);return{c(){o&&o.c(),e=Y(),a&&a.c(),t=I()},l(i){o&&o.l(i),e=Z(i),a&&a.l(i),t=I()},m(i,s){o&&o.m(i,s),E(i,e,s),a&&a.m(i,s),E(i,t,s),n=!0},p(i,[s]){i[3]?o&&(o.d(1),o=null):o?o.p(i,s):(o=qt(i),o.c(),o.m(e.parentNode,e)),i[0]&&i[3]?a?(a.p(i,s),s&9&&h(a,1)):(a=Xt(i),a.c(),h(a,1),a.m(t.parentNode,t)):a&&(ee(),g(a,1,1,()=>{a=null}),te())},i(i){n||(h(a),n=!0)},o(i){g(a),n=!1},d(i){o&&o.d(i),i&&b(e),a&&a.d(i),i&&b(t)}}}function we(r,e){return r&&e||null}function uo(r,e,t){const n=["activeContent","arrow","offset","placement","trigger","triggeredBy","strategy","open","yOnly"];let o=re(e,n),{$$slots:a={},$$scope:i}=e,{activeContent:s=!1}=e,{arrow:l=!0}=e,{offset:f=8}=e,{placement:u="top"}=e,{trigger:p="hover"}=e,{triggeredBy:c=void 0}=e,{strategy:d="absolute"}=e,{open:m=!1}=e,{yOnly:y=!1}=e;const k=so();let w,C,L,v=[],O,D=!1;const A=()=>(D=!0,setTimeout(()=>D=!1,250)),T=_=>{C===void 0&&console.error("trigger undefined"),v.includes(_.target)&&C!==_.target&&(t(3,C=_.target),A()),w&&_.type==="focusin"&&!m&&A(),t(0,m=w&&_.type==="click"&&!D?!m:!0)},H=_=>_.matches&&_.matches(":hover"),N=_=>_.contains&&_.contains(document.activeElement),S=_=>{s?setTimeout(()=>{const W=Object.values(O?.state.elements??{});_.type==="mouseleave"&&W.some(H)||_.type==="focusout"&&W.some(N)||t(0,m=!1)},100):t(0,m=!1)};function G(_,W){return t(17,O=ao(W,_,{placement:u,strategy:d,modifiers:[{name:"offset",options:{offset:({reference:R,popper:F})=>[y?F.width/2-R.width/2-R.x:0,f]}},{name:"eventListeners",enabled:m},{name:"flip",enabled:!1}]})),{update(R){t(17,O.state.elements.reference=R,O),O.update()},destroy(){O.destroy()}}}vt(()=>{const _=[["focusin",T,!0],["focusout",S,!0],["click",T,w],["mouseenter",T,!w],["mouseleave",S,!w]];return c?v=[...document.querySelectorAll(c)]:v=L.previousElementSibling?[L.previousElementSibling]:[],v.length||console.error("No triggers found."),v.forEach(W=>{W.tabIndex<0&&(W.tabIndex=0);for(const[R,F,De]of _)De&&W.addEventListener(R,F)}),t(3,C=v[0]),()=>{v.forEach(W=>{if(W)for(const[R,F]of _)W.removeEventListener(R,F)})}});function z(_){nt[_?"unshift":"push"](()=>{L=_,t(5,L)})}return r.$$set=_=>{t(10,e=V(V({},e),ae(_))),t(9,o=re(e,n)),"activeContent"in _&&t(1,s=_.activeContent),"arrow"in _&&t(2,l=_.arrow),"offset"in _&&t(11,f=_.offset),"placement"in _&&t(12,u=_.placement),"trigger"in _&&t(13,p=_.trigger),"triggeredBy"in _&&t(14,c=_.triggeredBy),"strategy"in _&&t(15,d=_.strategy),"open"in _&&t(0,m=_.open),"yOnly"in _&&t(16,y=_.yOnly),"$$scope"in _&&t(20,i=_.$$scope)},r.$$.update=()=>{r.$$.dirty&8192&&t(4,w=p==="click"),r.$$.dirty&9&&k("show",C,m),r.$$.dirty&135168&&O&&O.setOptions({placement:u})},e=ae(e),[m,s,l,C,w,L,T,S,G,o,e,f,u,p,c,d,y,O,a,z,i]}class co extends ve{constructor(e){super(),he(this,e,uo,fo,J,{activeContent:1,arrow:2,offset:11,placement:12,trigger:13,triggeredBy:14,strategy:15,open:0,yOnly:16})}}const po=r=>({}),Zt=r=>({}),mo=r=>({}),Gt=r=>({});function Jt(r){let e,t;const n=r[6].header,o=le(n,r,r[9],Gt);return{c(){e=Q("div"),o&&o.c(),this.h()},l(a){e=$(a,"DIV",{class:!0});var i=U(e);o&&o.l(i),i.forEach(b),this.h()},h(){se(e,"class","py-1 overflow-hidden rounded-t")},m(a,i){E(a,e,i),o&&o.m(e,null),t=!0},p(a,i){o&&o.p&&(!t||i&512)&&fe(o,n,a,a[9],t?ce(n,a[9],i,mo):ue(a[9]),Gt)},i(a){t||(h(o,a),t=!0)},o(a){g(o,a),t=!1},d(a){a&&b(e),o&&o.d(a)}}}function Kt(r){let e,t;const n=r[6].footer,o=le(n,r,r[9],Zt);return{c(){e=Q("div"),o&&o.c(),this.h()},l(a){e=$(a,"DIV",{class:!0});var i=U(e);o&&o.l(i),i.forEach(b),this.h()},h(){se(e,"class","py-1 overflow-hidden rounded-b")},m(a,i){E(a,e,i),o&&o.m(e,null),t=!0},p(a,i){o&&o.p&&(!t||i&512)&&fe(o,n,a,a[9],t?ce(n,a[9],i,po):ue(a[9]),Zt)},i(a){t||(h(o,a),t=!0)},o(a){g(o,a),t=!1},d(a){a&&b(e),o&&o.d(a)}}}function vo(r){let e,t,n,o,a,i,s=r[3].header&&Jt(r);const l=r[6].default,f=le(l,r,r[9],null);let u=r[3].footer&&Kt(r);return{c(){s&&s.c(),e=Y(),t=Q("ul"),f&&f.c(),o=Y(),u&&u.c(),a=I(),this.h()},l(p){s&&s.l(p),e=Z(p),t=$(p,"UL",{class:!0});var c=U(t);f&&f.l(c),c.forEach(b),o=Z(p),u&&u.l(p),a=I(),this.h()},h(){se(t,"class",n=r[4].class??"py-1 w-44")},m(p,c){s&&s.m(p,c),E(p,e,c),E(p,t,c),f&&f.m(t,null),E(p,o,c),u&&u.m(p,c),E(p,a,c),i=!0},p(p,c){p[3].header?s?(s.p(p,c),c&8&&h(s,1)):(s=Jt(p),s.c(),h(s,1),s.m(e.parentNode,e)):s&&(ee(),g(s,1,1,()=>{s=null}),te()),f&&f.p&&(!i||c&512)&&fe(f,l,p,p[9],i?ce(l,p[9],c,null):ue(p[9]),null),(!i||c&16&&n!==(n=p[4].class??"py-1 w-44"))&&se(t,"class",n),p[3].footer?u?(u.p(p,c),c&8&&h(u,1)):(u=Kt(p),u.c(),h(u,1),u.m(a.parentNode,a)):u&&(ee(),g(u,1,1,()=>{u=null}),te())},i(p){i||(h(s),h(f,p),h(u),i=!0)},o(p){g(s),g(f,p),g(u),i=!1},d(p){s&&s.d(p),p&&b(e),p&&b(t),f&&f.d(p),p&&b(o),u&&u.d(p),p&&b(a)}}}function ho(r){let e,t,n;const o=[{activeContent:!0},r[2],{class:r[1]}];function a(s){r[7](s)}let i={$$slots:{default:[vo]},$$scope:{ctx:r}};for(let s=0;s<o.length;s+=1)i=V(i,o[s]);return r[0]!==void 0&&(i.open=r[0]),e=new co({props:i}),nt.push(()=>ar(e,"open",a)),e.$on("show",r[8]),{c(){P(e.$$.fragment)},l(s){M(e.$$.fragment,s)},m(s,l){B(e,s,l),n=!0},p(s,[l]){const f=l&6?Ie(o,[o[0],l&4&&ir(s[2]),l&2&&{class:s[1]}]):{};l&536&&(f.$$scope={dirty:l,ctx:s}),!t&&l&1&&(t=!0,f.open=s[0],sr(()=>t=!1)),e.$set(f)},i(s){n||(h(e.$$.fragment,s),n=!0)},o(s){g(e.$$.fragment,s),n=!1},d(s){j(e,s)}}}function go(r,e,t){const n=["open","frameClass"];let o=re(e,n),{$$slots:a={},$$scope:i}=e;const s=Br(a);let{open:l=!1}=e,{frameClass:f=""}=e,u;function p(d){l=d,t(0,l)}function c(d){K.call(this,r,d)}return r.$$set=d=>{t(4,e=V(V({},e),ae(d))),t(2,o=re(e,n)),"open"in d&&t(0,l=d.open),"frameClass"in d&&t(5,f=d.frameClass),"$$scope"in d&&t(9,i=d.$$scope)},r.$$.update=()=>{t(2,o.arrow=o.arrow??!1,o),t(2,o.trigger=o.trigger??"click",o),t(2,o.placement=o.placement??"bottom",o),t(2,o.color=o.color??"dropdown",o),t(2,o.shadow=o.shadow??!0,o),t(2,o.rounded=o.rounded??!0,o),r.$$.dirty&32&&t(1,u=tt("divide-y divide-gray-100 dark:divide-gray-600",f))},e=ae(e),[l,u,o,s,e,f,a,p,c,i]}class _o extends ve{constructor(e){super(),he(this,e,go,ho,J,{open:0,frameClass:5})}}function bo(r){let e;const t=r[5].default,n=le(t,r,r[4],null);return{c(){n&&n.c()},l(o){n&&n.l(o)},m(o,a){n&&n.m(o,a),e=!0},p(o,a){n&&n.p&&(!e||a&16)&&fe(n,t,o,o[4],e?ce(t,o[4],a,null):ue(o[4]),null)},i(o){e||(h(n,o),e=!0)},o(o){g(n,o),e=!1},d(o){n&&n.d(o)}}}function wo(r){let e=r[0],t,n,o=r[0]&&ct(r);return{c(){o&&o.c(),t=I()},l(a){o&&o.l(a),t=I()},m(a,i){o&&o.m(a,i),E(a,t,i),n=!0},p(a,i){a[0]?e?J(e,a[0])?(o.d(1),o=ct(a),o.c(),o.m(t.parentNode,t)):o.p(a,i):(o=ct(a),o.c(),o.m(t.parentNode,t)):e&&(o.d(1),o=null),e=a[0]},i(a){n||(h(o),n=!0)},o(a){g(o),n=!1},d(a){a&&b(t),o&&o.d(a)}}}function ct(r){let e,t,n,o;const a=r[5].default,i=le(a,r,r[4],null);let s=[r[3]],l={};for(let f=0;f<s.length;f+=1)l=V(l,s[f]);return{c(){e=Q(r[0]),i&&i.c(),this.h()},l(f){e=$(f,(r[0]||"null").toUpperCase(),{});var u=U(e);i&&i.l(u),u.forEach(b),this.h()},h(){/-/.test(r[0])?$e(e,l):xe(e,l)},m(f,u){E(f,e,u),i&&i.m(e,null),t=!0,n||(o=jr(r[2].call(null,e)),n=!0)},p(f,u){i&&i.p&&(!t||u&16)&&fe(i,a,f,f[4],t?ce(a,f[4],u,null):ue(f[4]),null),l=Ie(s,[u&8&&f[3]]),/-/.test(f[0])?$e(e,l):xe(e,l)},i(f){t||(h(i,f),t=!0)},o(f){g(i,f),t=!1},d(f){f&&b(e),i&&i.d(f),n=!1,o()}}}function yo(r){let e,t,n,o;const a=[wo,bo],i=[];function s(l,f){return l[1]?0:1}return e=s(r),t=i[e]=a[e](r),{c(){t.c(),n=I()},l(l){t.l(l),n=I()},m(l,f){i[e].m(l,f),E(l,n,f),o=!0},p(l,[f]){let u=e;e=s(l),e===u?i[e].p(l,f):(ee(),g(i[u],1,1,()=>{i[u]=null}),te(),t=i[e],t?t.p(l,f):(t=i[e]=a[e](l),t.c()),h(t,1),t.m(n.parentNode,n))},i(l){o||(h(t),o=!0)},o(l){g(t),o=!1},d(l){i[e].d(l),l&&b(n)}}}function ko(r,e,t){const n=["tag","show","use"];let o=re(e,n),{$$slots:a={},$$scope:i}=e,{tag:s="div"}=e,{show:l}=e,{use:f=()=>{}}=e;return r.$$set=u=>{e=V(V({},e),ae(u)),t(3,o=re(e,n)),"tag"in u&&t(0,s=u.tag),"show"in u&&t(1,l=u.show),"use"in u&&t(2,f=u.use),"$$scope"in u&&t(4,i=u.$$scope)},[s,l,f,o,i,a]}class yr extends ve{constructor(e){super(),he(this,e,ko,yo,J,{tag:0,show:1,use:2})}}function pt(r){let e,t,n,o,a;const i=r[6].default,s=le(i,r,r[15],null);let l=[{href:r[0]},{type:t=r[0]?void 0:"button"},r[4],{class:r[1]}],f={};for(let u=0;u<l.length;u+=1)f=V(f,l[u]);return{c(){e=Q(r[0]?"a":"button"),s&&s.c(),this.h()},l(u){e=$(u,((r[0]?"a":"button")||"null").toUpperCase(),{href:!0,type:!0,class:!0});var p=U(e);s&&s.l(p),p.forEach(b),this.h()},h(){/-/.test(r[0]?"a":"button")?$e(e,f):xe(e,f)},m(u,p){E(u,e,p),s&&s.m(e,null),n=!0,o||(a=[pe(e,"click",r[7]),pe(e,"change",r[8]),pe(e,"keydown",r[9]),pe(e,"keyup",r[10]),pe(e,"focus",r[11]),pe(e,"blur",r[12]),pe(e,"mouseenter",r[13]),pe(e,"mouseleave",r[14])],o=!0)},p(u,p){s&&s.p&&(!n||p&32768)&&fe(s,i,u,u[15],n?ce(i,u[15],p,null):ue(u[15]),null),f=Ie(l,[(!n||p&1)&&{href:u[0]},(!n||p&1&&t!==(t=u[0]?void 0:"button"))&&{type:t},p&16&&u[4],(!n||p&2)&&{class:u[1]}]),/-/.test(u[0]?"a":"button")?$e(e,f):xe(e,f)},i(u){n||(h(s,u),n=!0)},o(u){g(s,u),n=!1},d(u){u&&b(e),s&&s.d(u),o=!1,Tr(a)}}}function Oo(r){let e=r[0]?"a":"button",t,n,o=(r[0]?"a":"button")&&pt(r);return{c(){o&&o.c(),t=I()},l(a){o&&o.l(a),t=I()},m(a,i){o&&o.m(a,i),E(a,t,i),n=!0},p(a,i){a[0],e?J(e,a[0]?"a":"button")?(o.d(1),o=pt(a),o.c(),o.m(t.parentNode,t)):o.p(a,i):(o=pt(a),o.c(),o.m(t.parentNode,t)),e=a[0]?"a":"button"},i(a){n||(h(o),n=!0)},o(a){g(o),n=!1},d(a){a&&b(t),o&&o.d(a)}}}function Eo(r){let e,t;return e=new yr({props:{tag:"li",show:r[2],use:r[3],$$slots:{default:[Oo]},$$scope:{ctx:r}}}),{c(){P(e.$$.fragment)},l(n){M(e.$$.fragment,n)},m(n,o){B(e,n,o),t=!0},p(n,[o]){const a={};o&4&&(a.show=n[2]),o&32787&&(a.$$scope={dirty:o,ctx:n}),e.$set(a)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Co(r,e,t){const n=["defaultClass","href"];let o=re(e,n),{$$slots:a={},$$scope:i}=e,{defaultClass:s="font-medium py-2 px-4 text-sm hover:bg-gray-100 dark:hover:bg-gray-600"}=e,{href:l=void 0}=e,f,u=!0;function p(v){t(2,u=v.parentElement?.tagName==="UL")}function c(v){K.call(this,r,v)}function d(v){K.call(this,r,v)}function m(v){K.call(this,r,v)}function y(v){K.call(this,r,v)}function k(v){K.call(this,r,v)}function w(v){K.call(this,r,v)}function C(v){K.call(this,r,v)}function L(v){K.call(this,r,v)}return r.$$set=v=>{t(16,e=V(V({},e),ae(v))),t(4,o=re(e,n)),"defaultClass"in v&&t(5,s=v.defaultClass),"href"in v&&t(0,l=v.href),"$$scope"in v&&t(15,i=v.$$scope)},r.$$.update=()=>{t(1,f=tt(s,l?"block":"w-full text-left",e.class))},e=ae(e),[l,f,u,p,o,s,a,c,d,m,y,k,w,C,L,i]}class Lo extends ve{constructor(e){super(),he(this,e,Co,Eo,J,{defaultClass:5,href:0})}}function Do(r){let e,t,n,o,a=[{xmlns:"http://www.w3.org/2000/svg"},{width:r[0]},{height:r[0]},{class:t=r[4].class},r[5],{"aria-label":r[1]},{fill:"none"},{viewBox:r[2]},{"stroke-width":"2"}],i={};for(let s=0;s<a.length;s+=1)i=V(i,a[s]);return{c(){e=lr("svg"),this.h()},l(s){e=fr(s,"svg",{xmlns:!0,width:!0,height:!0,class:!0,"aria-label":!0,fill:!0,viewBox:!0,"stroke-width":!0});var l=U(e);l.forEach(b),this.h()},h(){et(e,i)},m(s,l){E(s,e,l),e.innerHTML=r[3],n||(o=pe(e,"click",r[8]),n=!0)},p(s,[l]){l&8&&(e.innerHTML=s[3]),et(e,i=Ie(a,[{xmlns:"http://www.w3.org/2000/svg"},l&1&&{width:s[0]},l&1&&{height:s[0]},l&16&&t!==(t=s[4].class)&&{class:t},l&32&&s[5],l&2&&{"aria-label":s[1]},{fill:"none"},l&4&&{viewBox:s[2]},{"stroke-width":"2"}]))},i:ge,o:ge,d(s){s&&b(e),n=!1,o()}}}function Ao(r,e,t){const n=["size","color","variation","ariaLabel"];let o=re(e,n),{size:a="24"}=e,{color:i="currentColor"}=e,{variation:s="outline"}=e,l,f,u=`<path d="M15.75 19.5L8.25 12L15.75 4.5" stroke="${i}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> `,p=`<path fill-rule="evenodd" clip-rule="evenodd" d="M7.71967 12.5303C7.42678 12.2374 7.42678 11.7626 7.71967 11.4697L15.2197 3.96967C15.5126 3.67678 15.9874 3.67678 16.2803 3.96967C16.5732 4.26256 16.5732 4.73744 16.2803 5.03033L9.31066 12L16.2803 18.9697C16.5732 19.2626 16.5732 19.7374 16.2803 20.0303C15.9874 20.3232 15.5126 20.3232 15.2197 20.0303L7.71967 12.5303Z" fill="${i}"/> `,{ariaLabel:c="chevron left"}=e;function d(m){K.call(this,r,m)}return r.$$set=m=>{t(4,e=V(V({},e),ae(m))),t(5,o=re(e,n)),"size"in m&&t(0,a=m.size),"color"in m&&t(6,i=m.color),"variation"in m&&t(7,s=m.variation),"ariaLabel"in m&&t(1,c=m.ariaLabel)},r.$$.update=()=>{if(r.$$.dirty&128)switch(s){case"outline":t(3,f=u),t(2,l="0 0 24 24");break;case"solid":t(3,f=p),t(2,l="0 0 24 24");break;default:t(3,f=u),t(2,l="0 0 24 24")}},e=ae(e),[a,c,l,f,e,o,i,s,d]}class kr extends ve{constructor(e){super(),he(this,e,Ao,Do,J,{size:0,color:6,variation:7,ariaLabel:1})}}function Po(r){let e,t,n,o,a=[{xmlns:"http://www.w3.org/2000/svg"},{width:r[0]},{height:r[0]},{class:t=r[4].class},r[5],{"aria-label":r[1]},{fill:"none"},{viewBox:r[2]},{"stroke-width":"2"}],i={};for(let s=0;s<a.length;s+=1)i=V(i,a[s]);return{c(){e=lr("svg"),this.h()},l(s){e=fr(s,"svg",{xmlns:!0,width:!0,height:!0,class:!0,"aria-label":!0,fill:!0,viewBox:!0,"stroke-width":!0});var l=U(e);l.forEach(b),this.h()},h(){et(e,i)},m(s,l){E(s,e,l),e.innerHTML=r[3],n||(o=pe(e,"click",r[8]),n=!0)},p(s,[l]){l&8&&(e.innerHTML=s[3]),et(e,i=Ie(a,[{xmlns:"http://www.w3.org/2000/svg"},l&1&&{width:s[0]},l&1&&{height:s[0]},l&16&&t!==(t=s[4].class)&&{class:t},l&32&&s[5],l&2&&{"aria-label":s[1]},{fill:"none"},l&4&&{viewBox:s[2]},{"stroke-width":"2"}]))},i:ge,o:ge,d(s){s&&b(e),n=!1,o()}}}function Bo(r,e,t){const n=["size","color","variation","ariaLabel"];let o=re(e,n),{size:a="24"}=e,{color:i="currentColor"}=e,{variation:s="outline"}=e,l,f,u=`<path d="M8.25 4.5L15.75 12L8.25 19.5" stroke="${i}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> `,p=`<path fill-rule="evenodd" clip-rule="evenodd" d="M16.2803 11.4697C16.5732 11.7626 16.5732 12.2374 16.2803 12.5303L8.78033 20.0303C8.48744 20.3232 8.01256 20.3232 7.71967 20.0303C7.42678 19.7374 7.42678 19.2626 7.71967 18.9697L14.6893 12L7.71967 5.03033C7.42678 4.73744 7.42678 4.26256 7.71967 3.96967C8.01256 3.67678 8.48744 3.67678 8.78033 3.96967L16.2803 11.4697Z" fill="${i}"/> `,{ariaLabel:c="chevron right"}=e;function d(m){K.call(this,r,m)}return r.$$set=m=>{t(4,e=V(V({},e),ae(m))),t(5,o=re(e,n)),"size"in m&&t(0,a=m.size),"color"in m&&t(6,i=m.color),"variation"in m&&t(7,s=m.variation),"ariaLabel"in m&&t(1,c=m.ariaLabel)},r.$$.update=()=>{if(r.$$.dirty&128)switch(s){case"outline":t(3,f=u),t(2,l="0 0 24 24");break;case"solid":t(3,f=p),t(2,l="0 0 24 24");break;default:t(3,f=u),t(2,l="0 0 24 24")}},e=ae(e),[a,c,l,f,e,o,i,s,d]}class jo extends ve{constructor(e){super(),he(this,e,Bo,Po,J,{size:0,color:6,variation:7,ariaLabel:1})}}function To(r){let e,t,n,o;const a=r[3].default,i=le(a,r,r[4],null);var s=r[2];function l(f){return{props:{class:"h-4 w-4 ml-2"}}}return s&&(t=Tt(s,l())),{c(){i&&i.c(),e=Y(),t&&P(t.$$.fragment),n=I()},l(f){i&&i.l(f),e=Z(f),t&&M(t.$$.fragment,f),n=I()},m(f,u){i&&i.m(f,u),E(f,e,u),t&&B(t,f,u),E(f,n,u),o=!0},p(f,u){if(i&&i.p&&(!o||u&16)&&fe(i,a,f,f[4],o?ce(a,f[4],u,null):ue(f[4]),null),s!==(s=f[2])){if(t){ee();const p=t;g(p.$$.fragment,1,0,()=>{j(p,1)}),te()}s?(t=Tt(s,l()),P(t.$$.fragment),h(t.$$.fragment,1),B(t,n.parentNode,n)):t=null}},i(f){o||(h(i,f),t&&h(t.$$.fragment,f),o=!0)},o(f){g(i,f),t&&g(t.$$.fragment,f),o=!1},d(f){i&&i.d(f),f&&b(e),f&&b(n),t&&j(t,f)}}}function Ro(r){let e,t,n;e=new kr({props:{class:"h-4 w-4 mr-2"}});const o=r[3].default,a=le(o,r,r[4],null);return{c(){P(e.$$.fragment),t=Y(),a&&a.c()},l(i){M(e.$$.fragment,i),t=Z(i),a&&a.l(i)},m(i,s){B(e,i,s),E(i,t,s),a&&a.m(i,s),n=!0},p(i,s){a&&a.p&&(!n||s&16)&&fe(a,o,i,i[4],n?ce(o,i[4],s,null):ue(i[4]),null)},i(i){n||(h(e.$$.fragment,i),h(a,i),n=!0)},o(i){g(e.$$.fragment,i),g(a,i),n=!1},d(i){j(e,i),i&&b(t),a&&a.d(i)}}}function Io(r){let e,t,n,o,a;const i=[Ro,To],s=[];function l(f,u){return u&1&&(e=null),e==null&&(e=f[0].split("-")[0]==="left"),e?0:1}return t=l(r,-1),n=s[t]=i[t](r),{c(){n.c(),o=I()},l(f){n.l(f),o=I()},m(f,u){s[t].m(f,u),E(f,o,u),a=!0},p(f,u){let p=t;t=l(f,u),t===p?s[t].p(f,u):(ee(),g(s[p],1,1,()=>{s[p]=null}),te(),n=s[t],n?n.p(f,u):(n=s[t]=i[t](f),n.c()),h(n,1),n.m(o.parentNode,o))},i(f){a||(h(n),a=!0)},o(f){g(n),a=!1},d(f){s[t].d(f),f&&b(o)}}}function Mo(r){let e,t;return e=new yr({props:{class:"flex items-center justify-between",show:r[1],$$slots:{default:[Io]},$$scope:{ctx:r}}}),{c(){P(e.$$.fragment)},l(n){M(e.$$.fragment,n)},m(n,o){B(e,n,o),t=!0},p(n,[o]){const a={};o&2&&(a.show=n[1]),o&21&&(a.$$scope={dirty:o,ctx:n}),e.$set(a)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function No(r,e,t){let{$$slots:n={},$$scope:o}=e,{placement:a="bottom"}=e,{aligned:i=!1}=e;const s={top:Ur,right:jo,bottom:It,left:kr};let l;return r.$$set=f=>{"placement"in f&&t(0,a=f.placement),"aligned"in f&&t(1,i=f.aligned),"$$scope"in f&&t(4,o=f.$$scope)},r.$$.update=()=>{r.$$.dirty&1&&t(2,l=s[a.split("-")[0]]??It)},[a,i,l,n,o]}class Ho extends ve{constructor(e){super(),he(this,e,No,Mo,J,{placement:0,aligned:1})}}const So=r=>({cameraOptions:r&8,videoSource:r&1}),Qt=r=>({cameraOptions:r[3],videoSource:r[0]}),Wo=r=>({cameraOptions:r&8,videoSource:r&1}),$t=r=>({cameraOptions:r[3],videoSource:r[0]});function Vo(r){let e,t,n;const o=r[7].default,a=le(o,r,r[6],Qt);return{c(){e=Q("video"),t=Y(),a&&a.c(),this.h()},l(i){e=$(i,"VIDEO",{class:!0,preload:!0}),U(e).forEach(b),t=Z(i),a&&a.l(i),this.h()},h(){se(e,"class","h-full w-full object-cover"),e.loop=!0,e.playsInline=!0,e.autoplay=!1,e.controls=!1,se(e,"preload","auto")},m(i,s){E(i,e,s),r[8](e),E(i,t,s),a&&a.m(i,s),n=!0},p(i,s){a&&a.p&&(!n||s&73)&&fe(a,o,i,i[6],n?ce(o,i[6],s,So):ue(i[6]),Qt)},i(i){n||(h(a,i),n=!0)},o(i){g(a,i),n=!1},d(i){i&&b(e),r[8](null),i&&b(t),a&&a.d(i)}}}function zo(r){let e,t,n,o,a,i=!0,s,l,f=i&&xt();const u=r[7].error,p=le(u,r,r[6],$t);return{c(){e=Q("div"),t=Q("div"),n=Q("h2"),o=ot("Loading video..."),a=Y(),f&&f.c(),s=Y(),p&&p.c(),this.h()},l(c){e=$(c,"DIV",{class:!0});var d=U(e);t=$(d,"DIV",{class:!0});var m=U(t);n=$(m,"H2",{});var y=U(n);o=it(y,"Loading video..."),y.forEach(b),a=Z(m),f&&f.l(m),m.forEach(b),d.forEach(b),s=Z(c),p&&p.l(c),this.h()},h(){se(t,"class","prose lg:prose-xl mx-auto"),se(e,"class","grid h-full w-full items-center text-center")},m(c,d){E(c,e,d),Pe(e,t),Pe(t,n),Pe(n,o),Pe(t,a),f&&f.m(t,null),E(c,s,d),p&&p.m(c,d),l=!0},p(c,d){d&4&&(i=!0),i?f||(f=xt(),f.c(),f.m(t,null)):f&&(f.d(1),f=null),p&&p.p&&(!l||d&73)&&fe(p,u,c,c[6],l?ce(u,c[6],d,Wo):ue(c[6]),$t)},i(c){l||(h(p,c),l=!0)},o(c){g(p,c),l=!1},d(c){c&&b(e),f&&f.d(),c&&b(s),p&&p.d(c)}}}function xt(r){let e;return{c(){e=ot("The browser is unable to access the camera, try re-enabling the camera and reload")},l(t){e=it(t,"The browser is unable to access the camera, try re-enabling the camera and reload")},m(t,n){E(t,e,n)},d(t){t&&b(e)}}}function Fo(r){let e,t,n,o;const a=[zo,Vo],i=[];function s(l,f){return l[1]?0:1}return e=s(r),t=i[e]=a[e](r),{c(){t.c(),n=I()},l(l){t.l(l),n=I()},m(l,f){i[e].m(l,f),E(l,n,f),o=!0},p(l,[f]){let u=e;e=s(l),e===u?i[e].p(l,f):(ee(),g(i[u],1,1,()=>{i[u]=null}),te(),t=i[e],t?t.p(l,f):(t=i[e]=a[e](l),t.c()),h(t,1),t.m(n.parentNode,n))},i(l){o||(h(t),o=!0)},o(l){g(t),o=!1},d(l){i[e].d(l),l&&b(n)}}}function Uo(r,e,t){let{$$slots:n={},$$scope:o}=e,{deviceId:a=""}=e,i,s=!0,l,f=[],u;async function p(){t(1,s=!0),i&&i.getTracks().forEach(m=>m.stop());const d=a?{deviceId:{exact:a}}:{facingMode:"environment"};try{t(5,i=await navigator.mediaDevices.getUserMedia({video:d})),t(1,s=!1),t(2,l="")}catch(m){t(2,l=""+m)}}vt(async()=>{await p();const d=await navigator.mediaDevices.enumerateDevices();t(3,f=d.filter(m=>m.kind=="videoinput"))}),Rr(()=>{i&&i.getTracks().forEach(d=>d.stop())});function c(d){nt[d?"unshift":"push"](()=>{u=d,t(0,u),t(5,i)})}return r.$$set=d=>{"deviceId"in d&&t(4,a=d.deviceId),"$$scope"in d&&t(6,o=d.$$scope)},r.$$.update=()=>{r.$$.dirty&33&&i&&u&&u.paused&&(t(0,u.srcObject=i,u),u.play()),r.$$.dirty&16&&a&&p()},[u,s,l,f,a,i,o,n,c]}class qo extends ve{constructor(e){super(),he(this,e,Uo,Fo,J,{deviceId:4})}}function Xo(r){let e,t;return e=new cr({props:{path:Vr,size:1.2}}),{c(){P(e.$$.fragment)},l(n){M(e.$$.fragment,n)},m(n,o){B(e,n,o),t=!0},p:ge,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Yo(r){let e,t;return e=new Ve({props:{disabled:r[1],class:"!p-4",outline:!0,color:"red",$$slots:{default:[Go]},$$scope:{ctx:r}}}),e.$on("click",r[2]),{c(){P(e.$$.fragment)},l(n){M(e.$$.fragment,n)},m(n,o){B(e,n,o),t=!0},p(n,o){const a={};o&2&&(a.disabled=n[1]),o&8&&(a.$$scope={dirty:o,ctx:n}),e.$set(a)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Zo(r){let e,t;return e=new Ve({props:{class:"!p-4 hover:bg-transparent",outline:!0,color:"red",$$slots:{default:[Jo]},$$scope:{ctx:r}}}),{c(){P(e.$$.fragment)},l(n){M(e.$$.fragment,n)},m(n,o){B(e,n,o),t=!0},p(n,o){const a={};o&8&&(a.$$scope={dirty:o,ctx:n}),e.$set(a)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Go(r){let e,t;return e=new cr({props:{path:zr,size:2}}),{c(){P(e.$$.fragment)},l(n){M(e.$$.fragment,n)},m(n,o){B(e,n,o),t=!0},p:ge,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Jo(r){let e,t;return e=new xr({props:{class:"h-8 w-8",color:"red"}}),{c(){P(e.$$.fragment)},l(n){M(e.$$.fragment,n)},m(n,o){B(e,n,o),t=!0},p:ge,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Ko(r){let e,t,n,o,a,i,s,l;t=new Ve({props:{href:"capture/instructions",class:"h-min !p-4",outline:!0,color:"red",pill:!0,$$slots:{default:[Xo]},$$scope:{ctx:r}}});const f=[Zo,Yo],u=[];function p(c,d){return c[0]?0:1}return o=p(r),a=u[o]=f[o](r),s=new Ve({props:{class:"!cursor-default !p-4 opacity-0"}}),{c(){e=Q("div"),P(t.$$.fragment),n=Y(),a.c(),i=Y(),P(s.$$.fragment),this.h()},l(c){e=$(c,"DIV",{class:!0});var d=U(e);M(t.$$.fragment,d),n=Z(d),a.l(d),i=Z(d),M(s.$$.fragment,d),d.forEach(b),this.h()},h(){se(e,"class","flex w-full items-center justify-around gap-4 bg-red-50 p-10 md:rounded-lg md:p-4 ")},m(c,d){E(c,e,d),B(t,e,null),Pe(e,n),u[o].m(e,null),Pe(e,i),B(s,e,null),l=!0},p(c,[d]){const m={};d&8&&(m.$$scope={dirty:d,ctx:c}),t.$set(m);let y=o;o=p(c),o===y?u[o].p(c,d):(ee(),g(u[y],1,1,()=>{u[y]=null}),te(),a=u[o],a?a.p(c,d):(a=u[o]=f[o](c),a.c()),h(a,1),a.m(e,i))},i(c){l||(h(t.$$.fragment,c),h(a),h(s.$$.fragment,c),l=!0)},o(c){g(t.$$.fragment,c),g(a),g(s.$$.fragment,c),l=!1},d(c){c&&b(e),j(t),u[o].d(),j(s)}}}function Qo(r,e,t){let{loading:n=!1}=e,{disabled:o=!1}=e;function a(i){K.call(this,r,i)}return r.$$set=i=>{"loading"in i&&t(0,n=i.loading),"disabled"in i&&t(1,o=i.disabled)},[n,o,a]}class $o extends ve{constructor(e){super(),he(this,e,Qo,Ko,J,{loading:0,disabled:1})}}function er(r,e,t){const n=r.slice();return n[11]=e[t],n}function tr(r){let e=r[1],t,n,o,a=rr(r);return n=new _o({props:{$$slots:{default:[ri]},$$scope:{ctx:r}}}),{c(){a.c(),t=Y(),P(n.$$.fragment)},l(i){a.l(i),t=Z(i),M(n.$$.fragment,i)},m(i,s){a.m(i,s),E(i,t,s),B(n,i,s),o=!0},p(i,s){s&2&&J(e,e=i[1])?(ee(),g(a,1,1,ge),te(),a=rr(i),a.c(),h(a,1),a.m(t.parentNode,t)):a.p(i,s);const l={};s&16898&&(l.$$scope={dirty:s,ctx:i}),n.$set(l)},i(i){o||(h(a),h(n.$$.fragment,i),o=!0)},o(i){g(a),g(n.$$.fragment,i),o=!1},d(i){a.d(i),i&&b(t),j(n,i)}}}function xo(r){let e=r[3](r[9])+"",t;return{c(){t=ot(e)},l(n){t=it(n,e)},m(n,o){E(n,t,o)},p(n,o){o&512&&e!==(e=n[3](n[9])+"")&&ur(t,e)},d(n){n&&b(t)}}}function ei(r){let e,t;return e=new Ho({props:{$$slots:{default:[xo]},$$scope:{ctx:r}}}),{c(){P(e.$$.fragment)},l(n){M(e.$$.fragment,n)},m(n,o){B(e,n,o),t=!0},p(n,o){const a={};o&16896&&(a.$$scope={dirty:o,ctx:n}),e.$set(a)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function rr(r){let e,t;return e=new Ve({props:{outline:!0,color:"red",$$slots:{default:[ei]},$$scope:{ctx:r}}}),{c(){P(e.$$.fragment)},l(n){M(e.$$.fragment,n)},m(n,o){B(e,n,o),t=!0},p(n,o){const a={};o&16896&&(a.$$scope={dirty:o,ctx:n}),e.$set(a)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function ti(r){let e=r[11].label+"",t;return{c(){t=ot(e)},l(n){t=it(n,e)},m(n,o){E(n,t,o)},p(n,o){o&512&&e!==(e=n[11].label+"")&&ur(t,e)},d(n){n&&b(t)}}}function nr(r){let e,t;function n(){return r[5](r[11])}return e=new Lo({props:{$$slots:{default:[ti]},$$scope:{ctx:r}}}),e.$on("click",n),{c(){P(e.$$.fragment)},l(o){M(e.$$.fragment,o)},m(o,a){B(e,o,a),t=!0},p(o,a){r=o;const i={};a&16896&&(i.$$scope={dirty:a,ctx:r}),e.$set(i)},i(o){t||(h(e.$$.fragment,o),t=!0)},o(o){g(e.$$.fragment,o),t=!1},d(o){j(e,o)}}}function ri(r){let e,t,n=r[9],o=[];for(let i=0;i<n.length;i+=1)o[i]=nr(er(r,n,i));const a=i=>g(o[i],1,1,()=>{o[i]=null});return{c(){for(let i=0;i<o.length;i+=1)o[i].c();e=I()},l(i){for(let s=0;s<o.length;s+=1)o[s].l(i);e=I()},m(i,s){for(let l=0;l<o.length;l+=1)o[l].m(i,s);E(i,e,s),t=!0},p(i,s){if(s&514){n=i[9];let l;for(l=0;l<n.length;l+=1){const f=er(i,n,l);o[l]?(o[l].p(f,s),h(o[l],1)):(o[l]=nr(f),o[l].c(),h(o[l],1),o[l].m(e.parentNode,e))}for(ee(),l=n.length;l<o.length;l+=1)a(l);te()}},i(i){if(!t){for(let s=0;s<n.length;s+=1)h(o[s]);t=!0}},o(i){o=o.filter(Boolean);for(let s=0;s<o.length;s+=1)g(o[s]);t=!1},d(i){Ir(o,i),i&&b(e)}}}function ni(r){let e,t,n=r[9].length>0&&tr(r);return{c(){n&&n.c(),e=I()},l(o){n&&n.l(o),e=I()},m(o,a){n&&n.m(o,a),E(o,e,a),t=!0},p(o,a){o[9].length>0?n?(n.p(o,a),a&512&&h(n,1)):(n=tr(o),n.c(),h(n,1),n.m(e.parentNode,e)):n&&(ee(),g(n,1,1,()=>{n=null}),te())},i(o){t||(h(n),t=!0)},o(o){g(n),t=!1},d(o){n&&n.d(o),o&&b(e)}}}function or(r){let e,t;return e=new Hr({props:{error:r[0].error}}),e.$on("dismiss",r[6]),{c(){P(e.$$.fragment)},l(n){M(e.$$.fragment,n)},m(n,o){B(e,n,o),t=!0},p(n,o){const a={};o&1&&(a.error=n[0].error),e.$set(a)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function oi(r){let e,t,n,o=r[0].error&&or(r);function a(){return r[7](r[10])}return t=new $o({props:{disabled:r[10]==null,loading:!r[0].error&&r[2]}}),t.$on("click",a),{c(){o&&o.c(),e=Y(),P(t.$$.fragment)},l(i){o&&o.l(i),e=Z(i),M(t.$$.fragment,i)},m(i,s){o&&o.m(i,s),E(i,e,s),B(t,i,s),n=!0},p(i,s){r=i,r[0].error?o?(o.p(r,s),s&1&&h(o,1)):(o=or(r),o.c(),h(o,1),o.m(e.parentNode,e)):o&&(ee(),g(o,1,1,()=>{o=null}),te());const l={};s&1024&&(l.disabled=r[10]==null),s&5&&(l.loading=!r[0].error&&r[2]),t.$set(l)},i(i){n||(h(o),h(t.$$.fragment,i),n=!0)},o(i){g(o),g(t.$$.fragment,i),n=!1},d(i){o&&o.d(i),i&&b(e),j(t,i)}}}function ii(r){let e,t,n,o;return e=new Mr({props:{back:"capture/instructions",title:"Capture",$$slots:{default:[ni]},$$scope:{ctx:r}}}),n=new Nr({props:{$$slots:{default:[oi]},$$scope:{ctx:r}}}),{c(){P(e.$$.fragment),t=Y(),P(n.$$.fragment)},l(a){M(e.$$.fragment,a),t=Z(a),M(n.$$.fragment,a)},m(a,i){B(e,a,i),E(a,t,i),B(n,a,i),o=!0},p(a,i){const s={};i&16898&&(s.$$scope={dirty:i,ctx:a}),e.$set(s);const l={};i&17413&&(l.$$scope={dirty:i,ctx:a}),n.$set(l)},i(a){o||(h(e.$$.fragment,a),h(n.$$.fragment,a),o=!0)},o(a){g(e.$$.fragment,a),g(n.$$.fragment,a),o=!1},d(a){j(e,a),a&&b(t),j(n,a)}}}function ai(r){let e,t,n;function o(i){r[8](i)}let a={$$slots:{default:[ii,({cameraOptions:i,videoSource:s})=>({9:i,10:s}),({cameraOptions:i,videoSource:s})=>(i?512:0)|(s?1024:0)]},$$scope:{ctx:r}};return r[1]!==void 0&&(a.deviceId=r[1]),e=new qo({props:a}),nt.push(()=>ar(e,"deviceId",o)),{c(){P(e.$$.fragment)},l(i){M(e.$$.fragment,i)},m(i,s){B(e,i,s),n=!0},p(i,[s]){const l={};s&17927&&(l.$$scope={dirty:s,ctx:i}),!t&&s&2&&(t=!0,l.deviceId=i[1],sr(()=>t=!1)),e.$set(l)},i(i){n||(h(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){j(e,i)}}}function si(r,e,t){let{data:n}=e,o="",a=!1;function i(c){return c.length==0?"No camera found":c.find(m=>m.deviceId===o)?.label||"Select other camera"}async function s(c){if(t(2,a=!0),!c||!c.srcObject||!c.videoWidth||!c.videoHeight){t(2,a=!1);return}const d=document.createElement("canvas");d.height=c.videoHeight,d.width=c.videoWidth;const m=d.getContext("2d");m&&m.drawImage(c,0,0,c.videoWidth,c.videoHeight);const y=d.toDataURL("image/png"),k=await qr(y,"uint8",[c.videoHeight,c.videoWidth,4]);let w=Xr(k,"l2");w=Yr(w,[2,2]),w=Zr(w,10,20),w=Gr(w,3,1),w=Jr(w,.3);const C=Kr(w),L=new Qr;L.init(w),L.runOp(w,0,C),$r(d,C),Sr.set(d.toDataURL("image/png")),d.remove(),Wr.set({width:c.videoWidth,height:c.videoHeight}),Rt("/select-markers")}vt(()=>{localStorage&&localStorage.clear()});const l=c=>t(1,o=c.deviceId),f=()=>Rt("/capture"),u=c=>s(c);function p(c){o=c,t(1,o)}return r.$$set=c=>{"data"in c&&t(0,n=c.data)},[n,o,a,i,s,l,f,u,p]}class _i extends ve{constructor(e){super(),he(this,e,si,ai,J,{data:0})}}export{_i as default};
