import{w as c}from"./index.dcb26441.mjs";const i="turbines",l="crater";function b(){const t=localStorage?.getItem(i)||"[]",n=JSON.parse(t),a=n?.length>0;console.log("hasTurbines",a,n);const{subscribe:u,set:g,update:s}=c(a?n:[]);return{subscribe:u,add:e=>{s(r=>[...r,e])},remove:e=>{s(r=>r.filter(o=>o.index!==e))},toggleOpen:e=>{s(r=>r.map(o=>(o.index===e&&(o.hasConfirmOpen=!o.hasConfirmOpen),o)))},closeAll:()=>{s(e=>e.length?e.map(r=>(r.hasConfirmOpen=!1,r)):e)},clear:()=>{console.log("clear"),g([])}}}function f(){const t=localStorage?.getItem(l)||"{}",n=JSON.parse(t);return c(n??[0,0])}const m=b(),p=f();m.subscribe(t=>{localStorage?.setItem(i,JSON.stringify(t))});p.subscribe(t=>{localStorage?.setItem(l,JSON.stringify(t))});export{p as c,m as t};
